<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=yes">
    <title>CETCETY â€¢ Mobil Tam</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Inter', sans-serif; -webkit-tap-highlight-color: transparent; }
        body { background: #0f0f0f; color: #fff; overflow: hidden; height: 100vh; position: relative; }
        
        .app { display: flex; flex-direction: column; height: 100vh; width: 100vw; position: relative; background: #0a0a0a; }

        /* Video bÃ¶lgesi */
        .video-container {
            position: relative;
            width: 100%;
            aspect-ratio: 16 / 9;
            background: #000;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }
        #youtube-player {
            width: 100%;
            height: 100%;
            background: #000;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #333;
            background-size: cover;
            background-position: center;
        }
        /* Video Ã¼stÃ¼ katman (hayalet butonlar) */
        .video-overlay {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            padding: 12px;
            pointer-events: none;
        }
        .video-overlay > div {
            pointer-events: auto;
        }
        .overlay-top {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .overlay-center {
            display: flex;
            justify-content: center;
            gap: 24px;
            align-items: center;
        }
        .overlay-bottom {
            display: flex;
            justify-content: space-between;
            align-items: center;
            color: white;
            text-shadow: 0 2px 4px rgba(0,0,0,0.5);
            font-size: 13px;
        }
        .vid-btn {
            width: 44px; height: 44px; border-radius: 50%;
            background: rgba(20,20,20,0.7);
            backdrop-filter: blur(4px);
            border: 1px solid rgba(255,255,255,0.2);
            display: flex; align-items: center; justify-content: center;
            color: white; font-size: 20px; cursor: pointer;
            transition: 0.2s;
            box-shadow: 0 4px 10px rgba(0,0,0,0.3);
        }
        .vid-btn.small { width: 36px; height: 36px; font-size: 16px; }
        .vid-btn:hover { background: #ff0000; border-color: #ff0000; }

        /* Ä°Ã§erik alt alan */
        .content-row {
            flex: 1;
            display: flex;
            overflow: hidden;
            position: relative;
            background: #0f0f0f;
        }

        /* SOL PANEL (menÃ¼) â€“ ikonla aÃ§Ä±lÄ±r */
        .left-panel {
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 280px;
            background: rgba(10,10,10,0.95);
            backdrop-filter: blur(10px);
            border-right: 1px solid rgba(255,255,255,0.1);
            transform: translateX(-100%);
            transition: transform 0.25s ease;
            z-index: 25;
            display: flex;
            flex-direction: column;
        }
        .left-panel.open { transform: translateX(0); }

        .panel-header {
            padding: 20px 16px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            display: flex; align-items: center; gap: 12px;
            font-weight: 600;
        }
        .panel-header i { color: #ff0000; font-size: 20px; }
        .panel-header .close-btn {
            margin-left: auto;
            width: 36px; height: 36px; border-radius: 50%;
            display: flex; align-items: center; justify-content: center;
            background: rgba(42,42,42,0.8); cursor: pointer;
        }
        .panel-content {
            flex: 1;
            overflow-y: auto;
            padding: 16px;
        }

        /* sol paneldeki liste elemanlarÄ± */
        .left-menu-item {
            display: flex; align-items: center; gap: 14px;
            padding: 14px 12px; border-radius: 12px;
            color: #eee; margin-bottom: 4px; cursor: pointer;
        }
        .left-menu-item:hover { background: rgba(255,255,255,0.05); }
        .left-menu-item i { width: 24px; color: #aaa; }
        .left-menu-item.active { background: rgba(255,0,0,0.15); color: #ff0000; }

        /* SAÄž PANEL (Ã§evrimiÃ§i sohbetim) â€“ ikonla aÃ§Ä±lÄ±r */
        .right-panel {
            position: absolute;
            right: 0;
            top: 0;
            bottom: 0;
            width: 280px;
            background: rgba(15,15,15,0.95);
            backdrop-filter: blur(10px);
            border-left: 1px solid rgba(255,255,255,0.1);
            transform: translateX(100%);
            transition: transform 0.25s ease;
            z-index: 25;
            display: flex;
            flex-direction: column;
        }
        .right-panel.open { transform: translateX(0); }

        /* saÄŸ panel iÃ§indeki Ã§evrimiÃ§i listesi */
        .online-item {
            display: flex; align-items: center; gap: 12px;
            padding: 12px; border-radius: 10px; margin-bottom: 2px;
            cursor: pointer;
        }
        .online-item:hover { background: rgba(255,255,255,0.05); }
        .online-avatar {
            width: 40px; height: 40px; border-radius: 50%;
            background: #0a5c36; display: flex; align-items: center; justify-content: center;
            color: white; font-weight: 600;
        }
        .online-info { flex:1; }
        .online-name { font-weight: 600; font-size: 14px; display: flex; align-items: center; gap:6px; }
        .online-status { width: 8px; height: 8px; border-radius: 50%; background: #2ecc71; }
        .online-channel { font-size: 11px; color: #aaa; }

        /* ORTA KISIM â€“ SOHBET PANELÄ° */
        .chat-container {
            flex: 1;
            display: flex;
            flex-direction: column;
            background: rgba(10,10,10,0.8);
            min-width: 0;
        }
        .chat-header {
            padding: 12px 16px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            display: flex; align-items: center; justify-content: space-between;
            background: #0f0f0f;
        }
        .chat-header-left {
            display: flex; align-items: center; gap: 12px;
        }
        .menu-icon {
            width: 40px; height: 40px; border-radius: 50%;
            display: flex; align-items: center; justify-content: center;
            background: rgba(42,42,42,0.8); cursor: pointer;
            font-size: 20px; color: #fff;
        }
        .channel-title {
            font-weight: 700; font-size: 16px;
        }
        .channel-info {
            font-size: 12px; color: #aaa;
        }
        .chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: 20px 16px;
            display: flex; flex-direction: column;
            gap: 16px;
        }
        .message {
            max-width: 80%;
            align-self: flex-start;
        }
        .message.own {
            align-self: flex-end;
        }
        .bubble {
            background: rgba(26,26,26,0.9);
            padding: 10px 14px;
            border-radius: 18px 18px 18px 4px;
            color: #fff;
            font-size: 14px;
            word-break: break-word;
        }
        .own .bubble {
            background: #ff0000;
            border-radius: 18px 18px 4px 18px;
        }
        .message-time {
            font-size: 10px; color: #aaa; margin-top: 4px; margin-left: 8px;
        }
        .own .message-time { text-align: right; }

        .chat-input-area {
            padding: 12px 16px;
            border-top: 1px solid rgba(255,255,255,0.1);
            background: #0f0f0f;
        }
        .input-wrapper {
            display: flex; align-items: center;
            background: rgba(26,26,26,0.8);
            border-radius: 28px;
            padding: 4px 4px 4px 16px;
        }
        .chat-input {
            flex: 1;
            background: transparent;
            border: none;
            color: #fff;
            font-size: 15px;
            padding: 12px 0;
            outline: none;
        }
        .send-btn {
            width: 44px; height: 44px; border-radius: 50%;
            display: flex; align-items: center; justify-content: center;
            color: #fff; background: #ff0000; cursor: pointer;
        }

        /* Ã–ZEL SOHBET PANELÄ° */
        .private-chat-panel {
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            width: 100%; height: 100%;
            background: rgba(10,10,10,0.98);
            backdrop-filter: blur(10px);
            display: none;
            flex-direction: column;
            z-index: 30;
        }
        .private-chat-panel.active { display: flex; }
        .private-header {
            padding: 12px 16px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            display: flex; align-items: center; gap: 12px;
            background: #0f0f0f;
        }
        .private-back {
            width: 40px; height: 40px; border-radius: 50%;
            display: flex; align-items: center; justify-content: center;
            background: rgba(42,42,42,0.8); cursor: pointer;
        }
        .private-user {
            flex: 1;
            font-weight: 600;
        }
        .private-actions {
            display: flex; gap: 8px;
        }
        .private-action {
            width: 36px; height: 36px; border-radius: 50%;
            display: flex; align-items: center; justify-content: center;
            background: rgba(42,42,42,0.8); cursor: pointer;
        }
        .private-messages {
            flex: 1;
            overflow-y: auto;
            padding: 20px 16px;
            display: flex; flex-direction: column;
            gap: 16px;
        }
        .private-message {
            max-width: 80%;
            align-self: flex-start;
        }
        .private-message.own {
            align-self: flex-end;
        }
        .private-bubble {
            background: rgba(26,26,26,0.9);
            padding: 10px 14px;
            border-radius: 18px 18px 18px 4px;
            color: #fff;
            font-size: 14px;
        }
        .own .private-bubble {
            background: #ff0000;
            border-radius: 18px 18px 4px 18px;
        }
        .private-media {
            margin-top: 8px;
            border-radius: 12px;
            overflow: hidden;
        }
        .private-media img, .private-media video {
            max-width: 100%;
            max-height: 200px;
            border-radius: 12px;
        }
        .private-input-area {
            padding: 12px 16px;
            border-top: 1px solid rgba(255,255,255,0.1);
            background: #0f0f0f;
        }
        .media-buttons {
            display: flex; gap: 12px; margin-bottom: 8px;
        }
        .media-btn {
            width: 36px; height: 36px; border-radius: 50%;
            display: flex; align-items: center; justify-content: center;
            background: rgba(42,42,42,0.8); cursor: pointer;
        }
        .private-input-wrapper {
            display: flex; align-items: center;
            background: rgba(26,26,26,0.8);
            border-radius: 28px;
            padding: 4px 4px 4px 16px;
        }
        .private-input {
            flex: 1;
            background: transparent;
            border: none;
            color: #fff;
            font-size: 15px;
            padding: 12px 0;
            outline: none;
        }

        /* Playlist hayalet paneli */
        .playlist-ghost {
            position: absolute;
            top: 10%; left: 5%;
            width: 260px;
            max-height: 70%;
            background: rgba(20,20,20,0.95);
            backdrop-filter: blur(12px);
            border-radius: 20px;
            border: 1px solid rgba(255,255,255,0.15);
            box-shadow: 0 20px 40px rgba(0,0,0,0.6);
            display: none;
            flex-direction: column;
            z-index: 30;
            overflow: hidden;
        }
        .playlist-ghost.open { display: flex; }
        .playlist-header {
            padding: 16px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            display: flex; justify-content: space-between;
            font-weight: 600;
        }
        .playlist-header i { color: #ff0000; cursor: pointer; }
        .playlist-items {
            overflow-y: auto;
            padding: 8px;
        }
        .playlist-item {
            display: flex; align-items: center; gap: 12px;
            padding: 12px; border-radius: 12px;
            cursor: pointer;
        }
        .playlist-item:hover { background: rgba(255,255,255,0.05); }
        .playlist-thumb {
            width: 48px; height: 48px; border-radius: 8px;
            background: #2a2a2a; display: flex; align-items: center; justify-content: center;
            color: #ff0000;
        }
        .playlist-info { flex:1; }
        .playlist-title { font-size: 13px; font-weight: 500; }
        .playlist-artist { font-size: 11px; color: #aaa; }

        /* Video ekleme modalÄ± */
        .modal-overlay {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.8);
            backdrop-filter: blur(10px);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 50;
        }
        .modal-overlay.active { display: flex; }
        .modal-panel {
            width: 90%;
            max-width: 400px;
            background: rgba(20,20,20,0.95);
            border-radius: 24px;
            padding: 24px;
        }
        .modal-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .modal-input {
            width: 100%;
            padding: 14px 16px;
            background: rgba(0,0,0,0.4);
            border: 1px solid rgba(255,255,255,0.15);
            border-radius: 12px;
            color: #fff;
            font-size: 15px;
            margin-bottom: 16px;
        }
        .modal-buttons {
            display: flex;
            gap: 12px;
            justify-content: flex-end;
        }
        .modal-btn {
            padding: 12px 24px;
            border-radius: 12px;
            border: none;
            font-weight: 600;
            cursor: pointer;
        }
        .modal-btn.primary {
            background: #ff0000;
            color: #fff;
        }
        .modal-btn.secondary {
            background: rgba(42,42,42,0.8);
            color: #fff;
        }

        /* Alt ikon bar */
        .bottom-icon-bar {
            position: fixed;
            bottom: 16px; right: 16px;
            display: flex;
            flex-direction: column;
            gap: 12px;
            z-index: 40;
        }
        .float-icon {
            width: 56px; height: 56px; border-radius: 50%;
            background: #ff0000;
            display: flex; align-items: center; justify-content: center;
            color: white; font-size: 24px;
            box-shadow: 0 10px 20px rgba(255,0,0,0.3);
            cursor: pointer;
            transition: 0.2s;
        }
        .float-icon.secondary {
            background: rgba(30,30,30,0.9);
            backdrop-filter: blur(4px);
            border: 1px solid rgba(255,255,255,0.2);
            box-shadow: none;
        }

        @media (max-width: 600px) {
            .left-panel, .right-panel { width: 85%; }
        }
    </style>
</head>
<body>
    <div class="app">
        <!-- Video bÃ¶lgesi -->
        <div class="video-container">
            <div id="youtube-player" style="background-image: url('https://img.youtube.com/vi/jfKfPfyJRdk/maxresdefault.jpg'); background-size: cover;">
                <!-- iframe eklenebilir -->
            </div>
            <!-- Video Ã¼stÃ¼ kontroller -->
            <div class="video-overlay">
                <div class="overlay-top">
                    <div class="vid-btn small" onclick="toggleLeftPanel()"><i class="fas fa-bars"></i></div>
                    <div style="display: flex; gap: 8px;">
                        <div class="vid-btn small" onclick="togglePlaylistGhost()"><i class="fas fa-list"></i></div>
                        <div class="vid-btn small" onclick="toggleRightPanel()"><i class="fas fa-users"></i></div>
                        <div class="vid-btn small" onclick="openAddVideoModal()"><i class="fas fa-plus"></i></div>
                    </div>
                </div>
                <div class="overlay-center">
                    <div class="vid-btn" id="playPauseBtn"><i class="fas fa-pause"></i></div>
                    <div class="vid-btn" id="muteBtn"><i class="fas fa-volume-up"></i></div>
                </div>
                <div class="overlay-bottom">
                    <span><i class="fas fa-circle" style="color:#ff0000; font-size:8px;"></i> CETCETY Radio</span>
                    <span>ðŸ‘‘ MateKy</span>
                </div>
            </div>

            <!-- Playlist hayalet paneli -->
            <div id="playlistGhost" class="playlist-ghost">
                <div class="playlist-header">
                    <span><i class="fas fa-music"></i> SÄ±radakiler</span>
                    <i class="fas fa-times" onclick="togglePlaylistGhost()"></i>
                </div>
                <div class="playlist-items">
                    <div class="playlist-item" onclick="playVideo('jfKfPfyJRdk', 'CETCETY Radio', 'MateKy', 'owner')">
                        <div class="playlist-thumb"><i class="fab fa-youtube"></i></div>
                        <div class="playlist-info">
                            <div class="playlist-title">CETCETY Radio</div>
                            <div class="playlist-artist">ðŸ‘‘ MateKy</div>
                        </div>
                    </div>
                    <div class="playlist-item" onclick="playVideo('dQw4w9WgXcQ', 'Never Gonna Give You Up', 'Admin', 'admin')">
                        <div class="playlist-thumb"><i class="fab fa-youtube"></i></div>
                        <div class="playlist-info">
                            <div class="playlist-title">Never Gonna Give You Up</div>
                            <div class="playlist-artist">âš¡ Admin</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Alt iÃ§erik bÃ¶lgesi -->
        <div class="content-row">
            <!-- SOL PANEL (menÃ¼) -->
            <div id="leftPanel" class="left-panel">
                <div class="panel-header">
                    <i class="fas fa-bolt"></i> <span>CETCETY</span>
                    <div class="close-btn" onclick="toggleLeftPanel()"><i class="fas fa-times"></i></div>
                </div>
                <div class="panel-content">
                    <div class="left-menu-item active" onclick="showSection('subscriptions')"><i class="fas fa-bell"></i> Abonelikler</div>
                    <div class="left-menu-item" onclick="showSection('channels')"><i class="fas fa-list-ul"></i> Kanallar</div>
                    <div class="left-menu-item" onclick="showSection('chats')"><i class="fas fa-comment"></i> Sohbetlerim</div>
                    <div class="left-menu-item" onclick="showSection('profile')"><i class="fas fa-user"></i> Profil</div>
                    <div class="left-menu-item" onclick="showSection('support')"><i class="fas fa-headset"></i> Destek</div>
                    <div style="margin-top:30px;">
                        <div class="left-menu-item" onclick="logout()"><i class="fas fa-sign-out-alt"></i> Ã‡Ä±kÄ±ÅŸ</div>
                    </div>
                </div>
            </div>

            <!-- SAÄž PANEL (Ã‡evrimiÃ§i) -->
            <div id="rightPanel" class="right-panel">
                <div class="panel-header">
                    <i class="fas fa-users" style="color:#2ecc71;"></i> <span>Ã‡evrimiÃ§i (4)</span>
                    <div class="close-btn" onclick="toggleRightPanel()"><i class="fas fa-times"></i></div>
                </div>
                <div class="panel-content">
                    <div class="online-item" onclick="openPrivateChat('MateKy')">
                        <div class="online-avatar">M</div>
                        <div class="online-info">
                            <div class="online-name">MateKy <span class="online-status"></span></div>
                            <div class="online-channel">#genel</div>
                        </div>
                    </div>
                    <div class="online-item" onclick="openPrivateChat('Aylin')">
                        <div class="online-avatar">A</div>
                        <div class="online-info">
                            <div class="online-name">AylinRustemli <span class="online-status"></span></div>
                            <div class="online-channel">#genel</div>
                        </div>
                    </div>
                    <div class="online-item" onclick="openPrivateChat('Zeynep')">
                        <div class="online-avatar">Z</div>
                        <div class="online-info">
                            <div class="online-name">Zeynep <span class="online-status"></span></div>
                            <div class="online-channel">#mÃ¼zik</div>
                        </div>
                    </div>
                    <div class="online-item" onclick="openPrivateChat('Can')">
                        <div class="online-avatar">C</div>
                        <div class="online-info">
                            <div class="online-name">Can <span class="online-status"></span></div>
                            <div class="online-channel">#sohbet</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ANA SOHBET -->
            <div class="chat-container">
                <div class="chat-header">
                    <div class="chat-header-left">
                        <div class="menu-icon" onclick="toggleLeftPanel()"><i class="fas fa-bars"></i></div>
                        <div>
                            <div class="channel-title">#genel</div>
                            <div class="channel-info">4 Ã§evrimiÃ§i â€¢ 1.2K abone</div>
                        </div>
                    </div>
                    <div class="menu-icon" onclick="toggleRightPanel()"><i class="fas fa-users"></i></div>
                </div>
                <div class="chat-messages" id="chatMessages">
                    <div class="message">
                        <div class="bubble">Sevgili ziyaretÃ§i.. gÃ¼nÃ¼nÃ¼z aydÄ±n olsun! ðŸ˜Š</div>
                        <div class="message-time">19:32</div>
                    </div>
                    <div class="message">
                        <div class="bubble">@AylinRustemli-i7t5k salam</div>
                        <div class="message-time">19:34</div>
                    </div>
                    <div class="message own">
                        <div class="bubble">HoÅŸ geldiniz! ðŸ‘‹</div>
                        <div class="message-time">19:35</div>
                    </div>
                </div>
                <div class="chat-input-area">
                    <div class="input-wrapper">
                        <input type="text" id="chatInput" class="chat-input" placeholder="Mesaj yazÄ±n...">
                        <div class="send-btn" onclick="sendMessage()"><i class="fas fa-paper-plane"></i></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Ã–ZEL SOHBET PANELÄ° -->
        <div id="privateChatPanel" class="private-chat-panel">
            <div class="private-header">
                <div class="private-back" onclick="closePrivateChat()"><i class="fas fa-arrow-left"></i></div>
                <div class="private-user" id="privateUserName">KullanÄ±cÄ±</div>
                <div class="private-actions">
                    <div class="private-action" onclick="blockUser()"><i class="fas fa-ban"></i></div>
                    <div class="private-action" onclick="reportUser()"><i class="fas fa-flag"></i></div>
                </div>
            </div>
            <div class="private-messages" id="privateMessages">
                <!-- Ã–zel mesajlar buraya -->
            </div>
            <div class="private-input-area">
                <div class="media-buttons">
                    <div class="media-btn" onclick="triggerImageUpload()"><i class="fas fa-image"></i></div>
                    <div class="media-btn" onclick="triggerVideoUpload()"><i class="fas fa-video"></i></div>
                    <input type="file" id="imageUpload" accept="image/*" style="display:none;" onchange="sendImage(this)">
                    <input type="file" id="videoUpload" accept="video/*" style="display:none;" onchange="sendVideo(this)">
                </div>
                <div class="private-input-wrapper">
                    <input type="text" id="privateInput" class="private-input" placeholder="Mesaj yazÄ±n...">
                    <div class="send-btn" onclick="sendPrivateMessage()"><i class="fas fa-paper-plane"></i></div>
                </div>
            </div>
        </div>

        <!-- Video Ekleme ModalÄ± -->
        <div id="videoModal" class="modal-overlay">
            <div class="modal-panel">
                <div class="modal-title"><i class="fab fa-youtube" style="color:#ff0000;"></i> Video Ekle</div>
                <input type="text" id="videoUrl" class="modal-input" placeholder="YouTube URL veya ID">
                <input type="text" id="videoTitle" class="modal-input" placeholder="Video baÅŸlÄ±ÄŸÄ±">
                <div class="modal-buttons">
                    <button class="modal-btn secondary" onclick="closeModal()">Ä°ptal</button>
                    <button class="modal-btn primary" onclick="addVideo()">Ekle</button>
                </div>
            </div>
        </div>

        <!-- Alt ikon bar -->
        <div class="bottom-icon-bar">
            <div class="float-icon secondary" onclick="togglePlaylistGhost()"><i class="fas fa-list-ul"></i></div>
            <div class="float-icon" onclick="openAddVideoModal()"><i class="fas fa-plus"></i></div>
        </div>
    </div>

    <script>
        // ========== PANEL KONTROLLERÄ° ==========
        function toggleLeftPanel() {
            document.getElementById('leftPanel').classList.toggle('open');
        }
        function toggleRightPanel() {
            document.getElementById('rightPanel').classList.toggle('open');
        }
        function togglePlaylistGhost() {
            document.getElementById('playlistGhost').classList.toggle('open');
        }

        // ========== VÄ°DEO KONTROLLERÄ° ==========
        let playing = true;
        let muted = false;
        document.getElementById('playPauseBtn').addEventListener('click', function() {
            let icon = this.querySelector('i');
            if (playing) {
                icon.className = 'fas fa-play';
            } else {
                icon.className = 'fas fa-pause';
            }
            playing = !playing;
        });
        document.getElementById('muteBtn').addEventListener('click', function() {
            let icon = this.querySelector('i');
            if (muted) {
                icon.className = 'fas fa-volume-up';
            } else {
                icon.className = 'fas fa-volume-mute';
            }
            muted = !muted;
        });

        function playVideo(vid, title, artist, role) {
            document.getElementById('youtube-player').style.backgroundImage = `url('https://img.youtube.com/vi/${vid}/maxresdefault.jpg')`;
            document.querySelector('.overlay-bottom span:first-child').innerHTML = `<i class="fas fa-circle" style="color:#ff0000; font-size:8px;"></i> ${title}`;
            document.querySelector('.overlay-bottom span:last-child').innerHTML = (role === 'owner' ? 'ðŸ‘‘' : role === 'admin' ? 'âš¡' : 'ðŸ”§') + ' ' + artist;
            addSystemMessage(`ðŸŽ¬ ${artist} yeni video oynatÄ±yor: ${title}`);
        }

        // ========== VÄ°DEO EKLEME MODAL ==========
        function openAddVideoModal() {
            document.getElementById('videoModal').classList.add('active');
        }
        function closeModal() {
            document.getElementById('videoModal').classList.remove('active');
        }
        function addVideo() {
            let url = document.getElementById('videoUrl').value.trim();
            let title = document.getElementById('videoTitle').value.trim();
            if (!url) return;
            
            let vid = '';
            if (url.includes('youtube.com/watch?v=')) {
                vid = url.split('v=')[1]?.split('&')[0];
            } else if (url.includes('youtu.be/')) {
                vid = url.split('youtu.be/')[1]?.split('?')[0];
            } else if (url.match(/^[a-zA-Z0-9_-]{11}$/)) {
                vid = url;
            }
            
            if (vid && title) {
                playVideo(vid, title, 'KullanÄ±cÄ±', 'user');
                addSystemMessage(`âœ… Video eklendi: ${title}`);
            }
            closeModal();
            document.getElementById('videoUrl').value = '';
            document.getElementById('videoTitle').value = '';
        }

        // ========== Ã–ZEL SOHBET ==========
        let currentPrivateUser = null;
        
        function openPrivateChat(username) {
            currentPrivateUser = username;
            document.getElementById('privateUserName').textContent = username;
            document.getElementById('privateChatPanel').classList.add('active');
            // Ã–rnek mesajlar
            let msgs = document.getElementById('privateMessages');
            msgs.innerHTML = `
                <div class="private-message"><div class="private-bubble">Merhaba!</div></div>
                <div class="private-message own"><div class="private-bubble">Selam</div></div>
            `;
        }
        
        function closePrivateChat() {
            document.getElementById('privateChatPanel').classList.remove('active');
            currentPrivateUser = null;
        }
        
        function sendPrivateMessage() {
            let input = document.getElementById('privateInput');
            let text = input.value.trim();
            if (!text || !currentPrivateUser) return;
            
            let msgs = document.getElementById('privateMessages');
            msgs.innerHTML += `<div class="private-message own"><div class="private-bubble">${escapeHTML(text)}</div></div>`;
            input.value = '';
            msgs.scrollTop = msgs.scrollHeight;
        }
        
        function triggerImageUpload() {
            document.getElementById('imageUpload').click();
        }
        
        function sendImage(input) {
            if (input.files && input.files[0]) {
                let reader = new FileReader();
                reader.onload = function(e) {
                    let msgs = document.getElementById('privateMessages');
                    msgs.innerHTML += `<div class="private-message own"><div class="private-bubble"><i class="fas fa-image"></i> Resim gÃ¶nderildi</div><div class="private-media"><img src="${e.target.result}" style="max-width:100%;"></div></div>`;
                }
                reader.readAsDataURL(input.files[0]);
            }
            input.value = '';
        }
        
        function triggerVideoUpload() {
            document.getElementById('videoUpload').click();
        }
        
        function sendVideo(input) {
            if (input.files && input.files[0]) {
                let reader = new FileReader();
                reader.onload = function(e) {
                    let msgs = document.getElementById('privateMessages');
                    msgs.innerHTML += `<div class="private-message own"><div class="private-bubble"><i class="fas fa-video"></i> Video gÃ¶nderildi</div><div class="private-media"><video src="${e.target.result}" controls style="max-width:100%; max-height:200px;"></video></div></div>`;
                }
                reader.readAsDataURL(input.files[0]);
            }
            input.value = '';
        }
        
        function blockUser() {
            if (currentPrivateUser) {
                alert(currentPrivateUser + ' engellendi.');
                closePrivateChat();
            }
        }
        
        function reportUser() {
            if (currentPrivateUser) {
                alert(currentPrivateUser + ' ÅŸikayet edildi.');
            }
        }

        // ========== ANA SOHBET ==========
        function sendMessage() {
            let input = document.getElementById('chatInput');
            let text = input.value.trim();
            if (!text) return;
            
            let msgs = document.getElementById('chatMessages');
            let time = new Date().toLocaleTimeString('tr-TR', {hour:'2-digit', minute:'2-digit'});
            msgs.innerHTML += `<div class="message own"><div class="bubble">${escapeHTML(text)}</div><div class="message-time">${time}</div></div>`;
            input.value = '';
            msgs.scrollTop = msgs.scrollHeight;
        }

        function addSystemMessage(text) {
            let msgs = document.getElementById('chatMessages');
            msgs.innerHTML += `<div class="message system-message" style="align-self:center;"><div style="background:#2a2a2a; padding:6px 16px; border-radius:30px; font-size:12px; color:#aaa;"><i class="fas fa-info-circle"></i> ${escapeHTML(text)}</div></div>`;
            msgs.scrollTop = msgs.scrollHeight;
        }

        // ========== SOL MENÃœ SEKMELERÄ° ==========
        function showSection(section) {
            toggleLeftPanel(); // menÃ¼yÃ¼ kapat
            if (section === 'subscriptions') addSystemMessage('ðŸ“º Abonelikler bÃ¶lÃ¼mÃ¼ aÃ§Ä±ldÄ±');
            else if (section === 'channels') addSystemMessage('ðŸ“¡ Kanallar bÃ¶lÃ¼mÃ¼ aÃ§Ä±ldÄ±');
            else if (section === 'chats') addSystemMessage('ðŸ’¬ Sohbetlerim bÃ¶lÃ¼mÃ¼ aÃ§Ä±ldÄ±');
            else if (section === 'profile') addSystemMessage('ðŸ‘¤ Profil bÃ¶lÃ¼mÃ¼ aÃ§Ä±ldÄ±');
            else if (section === 'support') addSystemMessage('ðŸ†˜ Destek bÃ¶lÃ¼mÃ¼ aÃ§Ä±ldÄ±');
        }

        function logout() {
            alert('Ã‡Ä±kÄ±ÅŸ yapÄ±ldÄ±');
        }

        // ========== YARDIMCI ==========
        function escapeHTML(text) {
            let div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }

        // DÄ±ÅŸarÄ± tÄ±klayÄ±nca panelleri kapat
        document.addEventListener('click', function(e) {
            if (!document.getElementById('leftPanel').contains(e.target) && !e.target.closest('[onclick="toggleLeftPanel()"]')) {
                document.getElementById('leftPanel').classList.remove('open');
            }
            if (!document.getElementById('rightPanel').contains(e.target) && !e.target.closest('[onclick="toggleRightPanel()"]')) {
                document.getElementById('rightPanel').classList.remove('open');
            }
        });
    </script>
</body>
</html>
