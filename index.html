<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Popbox Elite</title>
    <style>
        :root {
            --bg-day: #ffffff;
            --text-day: #000000;
            --bg-night: #000000;
            --text-night: #e0e0e0;
            --gray-day: #f8f9fa;
            --gray-night: #0f0f0f;
            --border-day: #e0e0e0;
            --border-night: #222222;
        }
        body { margin:0; font-family:system-ui, -apple-system, BlinkMacSystemFont, sans-serif; height:100vh; overflow:hidden; transition:all 0.4s; }
        body.day { background:var(--bg-day); color:var(--text-day); }
        body.night { background:var(--bg-night); color:var(--text-night); }
        .login-screen { position:fixed; inset:0; z-index:9999; background:rgba(0,0,0,0.4); backdrop-filter:blur(16px); display:flex; align-items:center; justify-content:center; }
        .login-box { background:rgba(255,255,255,0.92); border:1px solid rgba(0,0,0,0.15); border-radius:24px; padding:48px 40px; width:400px; text-align:center; box-shadow:0 20px 60px rgba(0,0,0,0.35); backdrop-filter:blur(12px); }
        body.night .login-box { background:rgba(20,20,20,0.92); border-color:rgba(255,255,255,0.08); box-shadow:0 20px 60px rgba(255,255,255,0.06); }
        h2 { margin:0 0 16px; font-size:36px; font-weight:700; letter-spacing:-0.5px; }
        p.tagline { font-size:17px; margin:0 0 40px; color:#555; line-height:1.4; }
        body.night p.tagline { color:#aaa; }
        input { width:100%; padding:14px 16px; margin:12px 0; border:1px solid #ccc; border-radius:12px; font-size:16px; background:rgba(255,255,255,0.85); transition:0.2s; }
        body.night input { background:rgba(30,30,30,0.85); color:#fff; border-color:#444; }
        input:focus { border-color:#000; outline:none; box-shadow:0 0 0 3px rgba(0,0,0,0.1); }
        body.night input:focus { border-color:#fff; box-shadow:0 0 0 3px rgba(255,255,255,0.15); }
        button { width:100%; padding:14px; background:#000; color:#fff; border:none; border-radius:12px; font-size:16px; font-weight:600; cursor:pointer; transition:0.2s; }
        body.night button { background:#fff; color:#000; }
        button:hover { opacity:0.92; transform:translateY(-1px); }
        .error { color:#ff4d4f; margin-top:12px; font-size:14px; font-weight:500; }
        .app { display:none; height:100vh; flex-direction:row; }
        .left-menu { width:72px; background:var(--gray-day); border-right:1px solid var(--border-day); display:flex; flex-direction:column; align-items:center; padding:24px 0; gap:36px; }
        body.night .left-menu { background:var(--gray-night); border-color:var(--border-night); }
        .menu-icon { width:48px; height:48px; display:flex; align-items:center; justify-content:center; cursor:pointer; color:#777; transition:0.3s; border-radius:14px; font-size:26px; }
        body.night .menu-icon { color:#999; }
        .menu-icon:hover { background:rgba(0,0,0,0.08); color:#000; box-shadow:0 4px 12px rgba(0,0,0,0.15); transform:scale(1.08); }
        body.night .menu-icon:hover { background:rgba(255,255,255,0.08); color:#fff; box-shadow:0 4px 12px rgba(255,255,255,0.12); }
        .menu-icon.active { background:#000; color:#fff; box-shadow:0 6px 16px rgba(0,0,0,0.3); }
        body.night .menu-icon.active { background:#fff; color:#000; box-shadow:0 6px 16px rgba(255,255,255,0.15); }
        .profile-bottom { margin-top:auto; margin-bottom:40px; cursor:pointer; }
        .profile-avatar-small { width:60px; height:60px; border-radius:50%; background:#000; color:#fff; display:flex; align-items:center; justify-content:center; font-size:26px; font-weight:600; box-shadow:0 6px 16px rgba(0,0,0,0.35); transition:0.3s; }
        body.night .profile-avatar-small { background:#fff; color:#000; }
        .profile-avatar-small:hover { transform:scale(1.12); box-shadow:0 8px 24px rgba(0,0,0,0.4); }
        .sidebar { width:300px; background:var(--gray-day); border-right:1px solid var(--border-day); display:flex; flex-direction:column; overflow-y:auto; }
        body.night .sidebar { background:var(--gray-night); border-color:var(--border-night); }
        .chat-main { flex:1; display:flex; flex-direction:column; background:var(--bg-day); }
        body.night .chat-main { background:var(--bg-night); }
        .chat-header { height:72px; background:var(--gray-day); border-bottom:1px solid var(--border-day); padding:0 28px; display:flex; align-items:center; justify-content:space-between; font-weight:600; font-size:19px; }
        body.night .chat-header { background:var(--gray-night); border-color:var(--border-night); }
        .channel-logo { width:48px; height:48px; border-radius:50%; background:#000; color:#fff; display:flex; align-items:center; justify-content:center; font-size:22px; font-weight:bold; box-shadow:0 4px 12px rgba(0,0,0,0.3); }
        body.night .channel-logo { background:#fff; color:#000; }
        .messages { flex:1; padding:28px 24px; overflow-y:auto; }
        .input-area { padding:16px 28px; background:var(--gray-day); display:flex; gap:16px; align-items:center; border-top:1px solid var(--border-day); }
        body.night .input-area { background:var(--gray-night); border-top-color:var(--border-night); }
        textarea { flex:1; padding:16px 20px; border:1px solid #ccc; border-radius:16px; background:#fff; color:#000; resize:none; font-size:16px; line-height:1.5; box-shadow:inset 0 1px 3px rgba(0,0,0,0.05); }
        body.night textarea { background:#111; color:#fff; border-color:#333; box-shadow:inset 0 1px 3px rgba(255,255,255,0.05); }
        .send-btn, .attach-btn { padding:16px; background:#000; border:none; border-radius:50%; cursor:pointer; font-size:24px; color:#fff; min-width:52px; height:52px; display:flex; align-items:center; justify-content:center; transition:0.2s; box-shadow:0 2px 8px rgba(0,0,0,0.2); }
        body.night .send-btn, body.night .attach-btn { background:#fff; color:#000; }
        .send-btn:hover, .attach-btn:hover { transform:translateY(-2px); box-shadow:0 4px 16px rgba(0,0,0,0.3); }
        body.night .send-btn:hover, body.night .attach-btn:hover { box-shadow:0 4px 16px rgba(255,255,255,0.15); }
        .msg { margin-bottom:18px; max-width:80%; padding:12px 18px; border-radius:18px; line-height:1.5; font-size:15.5px; }
        .msg-self { background:#000; color:#fff; margin-left:auto; border-bottom-right-radius:6px; box-shadow:0 1px 3px rgba(0,0,0,0.15); }
        body.night .msg-self { background:#fff; color:#000; border-bottom-right-radius:6px; }
        .msg-other { background:#eee; color:#000; margin-right:auto; border-bottom-left-radius:6px; box-shadow:0 1px 3px rgba(0,0,0,0.1); }
        body.night .msg-other { background:#222; color:#fff; border-bottom-left-radius:6px; }
        .msg-media img, .msg-media video { max-width:100%; border-radius:16px; margin-top:10px; box-shadow:0 4px 16px rgba(0,0,0,0.25); }
        .overlay { position:fixed; inset:0; background:rgba(0,0,0,0.85); display:none; justify-content:flex-end; z-index:2000; backdrop-filter:blur(8px); }
        .overlay.active { display:flex; }
        .overlay-content { width:440px; height:100%; background:var(--gray-day); border-left:1px solid var(--border-day); display:flex; flex-direction:column; }
        body.night .overlay-content { background:var(--gray-night); border-color:var(--border-night); }
        .overlay-header { padding:28px; background:#000; color:#fff; display:flex; justify-content:space-between; align-items:center; font-size:22px; font-weight:600; }
        body.night .overlay-header { background:#fff; color:#000; }
        .close-overlay { background:none; border:none; color:inherit; font-size:40px; cursor:pointer; }
        .profile-panel { padding:60px 40px; text-align:center; }
        .profile-avatar { width:180px; height:180px; margin:0 auto 40px; border-radius:50%; background:#000; color:#fff; display:flex; align-items:center; justify-content:center; font-size:80px; font-weight:bold; box-shadow:0 12px 40px rgba(0,0,0,0.5); }
        body.night .profile-avatar { background:#fff; color:#000; }
        .profile-name { font-size:36px; font-weight:700; margin-bottom:16px; letter-spacing:-0.5px; }
        .profile-role { font-size:20px; color:#666; margin-bottom:48px; }
        body.night .profile-role { color:#aaa; }
        .profile-btn { padding:18px 48px; background:#000; color:#fff; border:none; border-radius:16px; font-size:18px; cursor:pointer; transition:0.2s; box-shadow:0 4px 12px rgba(0,0,0,0.3); }
        body.night .profile-btn { background:#fff; color:#000; }
        .profile-btn:hover { transform:translateY(-2px); box-shadow:0 8px 24px rgba(0,0,0,0.4); }
        body.night .profile-btn:hover { box-shadow:0 8px 24px rgba(255,255,255,0.15); }
    </style>
</head>
<body class="night">

<!-- GiriÅŸ EkranÄ± (Åžeffaf & Buhulu) -->
<div id="loginScreen" class="login-screen">
    <div class="login-box">
        <h2>Popbox Elite</h2>
        <p class="tagline">Burada ne var lan? Nick yaz da gir bakalÄ±m!</p>
        <input id="nickInput" type="text" placeholder="Nick yaz..." autofocus>
        <input id="passInput" type="password" placeholder="Åžifre? (gerek yoksa boÅŸ bÄ±rak)">
        <button onclick="handleLogin()">GiriÅŸ Yap</button>
        <div class="error" id="errorMsg"></div>
    </div>
</div>

<!-- Ana Uygulama -->
<div id="app" class="app" style="display:none;">
    <!-- En solda ikon menÃ¼sÃ¼ (profesyonel, emoji'siz) -->
    <div class="left-menu">
        <div class="menu-icon active" onclick="alert('TÃ¼m sohbetler')">âœ‰</div>
        <div class="menu-icon" onclick="alert('OkunmamÄ±ÅŸ')">ðŸ”´</div>
        <div class="menu-icon" onclick="alert('Favoriler')">â˜…</div>
        <div class="menu-icon" onclick="alert('Gruplar')">ðŸ‘¥</div>
        <div class="menu-icon" onclick="alert('Durum')">â—‹</div>
        <div class="menu-icon" onclick="document.body.classList.toggle('night'); document.body.classList.toggle('day')">â˜€</div>
        <div class="profile-bottom" onclick="openProfile()">
            <div class="profile-avatar-small" id="smallAvatar">?</div>
        </div>
    </div>

    <!-- KiÅŸi Listesi -->
    <div class="sidebar">
        <div class="chat-header">
            <div style="font-weight:600;">KiÅŸiler</div>
        </div>
        <div class="user-list" id="userList"></div>
    </div>

    <!-- Sohbet AlanÄ± -->
    <div class="chat-main">
        <div class="chat-header">
            <div style="display:flex; align-items:center; gap:16px;">
                <div class="channel-logo">P</div>
                <div id="chatWith">Bir kiÅŸi seÃ§</div>
            </div>
        </div>
        <div class="messages" id="messages">
            <p id="welcome">HoÅŸ geldin! Bir kiÅŸiye tÄ±kla sohbet baÅŸlat...</p>
        </div>
        <div class="input-area">
            <textarea id="msgInput" placeholder="Mesaj yaz..."></textarea>
            <button class="attach-btn" onclick="document.getElementById('fileInput').click()">ðŸ“Ž</button>
            <input type="file" id="fileInput" accept="image/*,video/*" style="display:none;" onchange="handleLocalMedia(event)">
            <button class="send-btn" onclick="sendMessage()">âž¤</button>
        </div>
    </div>

    <!-- Overlay (Profil) -->
    <div id="overlay" class="overlay">
        <div class="overlay-content">
            <div class="overlay-header">
                <span id="overlayTitle">Profil</span>
                <button class="close-overlay" onclick="closeOverlay()">Ã—</button>
            </div>
            <div id="overlayBody" style="padding:48px 32px; overflow-y:auto; flex:1;"></div>
        </div>
    </div>
</div>

<script>
    let currentUser = null;
    let godMode = false;
    let currentChatWith = null;

    const onlineUsers = ['Ahmet', 'AyÅŸe', 'Mehmet', 'Elif', 'Kumsal', 'Baran', 'Ece'];

    function handleLogin() {
        const nick = document.getElementById('nickInput').value.trim();
        const pass = document.getElementById('passInput').value;
        
        if (!nick) return alert('Nick yaz lan!');
        
        let role = 'user';
        if (nick.toLowerCase() === 'mateky' && pass === 'kumsal07@') role = 'owner';
        
        currentUser = { nick, role };
        
        document.getElementById('loginScreen').style.display = 'none';
        document.getElementById('app').style.display = 'flex';
        
        document.getElementById('smallAvatar').textContent = nick.charAt(0).toUpperCase();
        loadUserList();
        document.getElementById('welcome').innerHTML = `HoÅŸ geldin <strong>${nick}</strong>! Bir kiÅŸiye tÄ±kla sohbet baÅŸlat...`;
    }

    function loadUserList() {
        const list = document.getElementById('userList');
        list.innerHTML = '';
        onlineUsers.forEach(name => {
            const div = document.createElement('div');
            div.className = 'user-item';
            div.innerHTML = `
                <div class="user-avatar">${name.charAt(0).toUpperCase()}</div>
                <div>${name}${name === currentUser.nick ? ' (sen)' : ''}</div>
            `;
            div.onclick = () => startChatWith(name);
            list.appendChild(div);
        });
    }

    function startChatWith(nick) {
        currentChatWith = nick;
        document.getElementById('chatWith').textContent = nick;
        document.getElementById('messages').innerHTML = `<p>Sohbet baÅŸladÄ±: ${nick}</p>`;
    }

    function sendMessage() {
        const input = document.getElementById('msgInput');
        if (!input.value.trim() || !currentChatWith) return;
        
        const msg = document.createElement('div');
        msg.className = 'msg msg-self';
        msg.textContent = input.value;
        document.getElementById('messages').appendChild(msg);
        document.getElementById('messages').scrollTop = document.getElementById('messages').scrollHeight;
        input.value = '';
    }

    function handleLocalMedia(event) {
        const file = event.target.files[0];
        if (!file || !currentChatWith) return alert('Dosya seÃ§ilmedi veya sohbet aÃ§Ä±k deÄŸil!');

        const reader = new FileReader();
        reader.onload = function(e) {
            const msg = document.createElement('div');
            msg.className = 'msg msg-self';
            if (file.type.startsWith('image')) {
                msg.innerHTML = `<img src="${e.target.result}" style="max-width:100%; border-radius:12px;">`;
            } else if (file.type.startsWith('video')) {
                msg.innerHTML = `<video src="${e.target.result}" controls style="max-width:100%; border-radius:12px;"></video>`;
            }
            document.getElementById('messages').appendChild(msg);
            document.getElementById('messages').scrollTop = document.getElementById('messages').scrollHeight;
        };
        reader.readAsDataURL(file);
    }

    function openProfile() {
        document.getElementById('overlayTitle').textContent = 'Profil';
        const body = document.getElementById('overlayBody');
        body.innerHTML = `
            <div style="text-align:center;">
                <div style="width:160px; height:160px; margin:0 auto 32px; border-radius:50%; background:#000; color:#fff; display:flex; align-items:center; justify-content:center; font-size:72px; font-weight:bold; box-shadow:0 8px 32px rgba(0,0,0,0.4);"> ${currentUser.nick.charAt(0).toUpperCase()}</div>
                <h2 style="font-size:32px; margin-bottom:12px;">${currentUser.nick}</h2>
                <p style="font-size:18px; color:#666;">Rol: ${currentUser.role}${currentUser.role === 'owner' ? ' (Kanal Sahibi)' : ''}</p>
                <button onclick="toggleGodMode()" style="margin-top:32px; padding:16px 40px; background:#000; color:#fff; border:none; border-radius:12px; font-size:18px; cursor:pointer;">TanrÄ± Modu ${godMode ? 'Kapat' : 'AÃ§'}</button>
            </div>
        `;
        document.getElementById('overlay').classList.add('active');
    }

    function closeOverlay() {
        document.getElementById('overlay').classList.remove('active');
    }

    function toggleGodMode() {
        godMode = !godMode;
        alert(`TanrÄ± modu ${godMode ? 'AÃ‡ILDI' : 'KAPATILDI'}!`);
    }

    // Enter desteÄŸi
    document.getElementById('nickInput').addEventListener('keypress', e => { if (e.key === 'Enter') handleLogin(); });
    document.getElementById('passInput').addEventListener('keypress', e => { if (e.key === 'Enter') handleLogin(); });
    document.getElementById('msgInput').addEventListener('keypress', e => { if (e.key === 'Enter' && !e.shiftKey) { e.preventDefault(); sendMessage(); } });
</script>
</body>
</html>
