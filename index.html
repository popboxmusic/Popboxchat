<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>CETCETY • Sohbet</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- FIREBASE -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-storage-compat.js"></script>
    
    <!-- CSS -->
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- GİRİŞ -->
    <div id="loginOverlay" class="login-overlay">
        <div class="login-panel">
            <h2>CETCETY</h2>
            <input type="text" id="loginNick" class="login-input" placeholder="Kullanıcı adı">
            <input type="password" id="loginPassword" class="login-input" placeholder="Şifre (opsiyonel)">
            <button class="login-btn" onclick="handleLogin()">GİRİŞ YAP</button>
            <div class="login-info">
                Giriş yaparak şartları kabul etmiş sayılırsınız.
            </div>
        </div>
    </div>

    <!-- ANA UYGULAMA -->
    <div id="app" class="app" style="display: none;">
        <!-- SOL MENÜ -->
        <div class="sidebar">
            <div class="menu-item" onclick="openChannels()" title="Kanallar">
                <i class="fas fa-hashtag"></i>
            </div>
            <div class="menu-item" onclick="openPrivateList()" title="Özel Sohbetler">
                <i class="fas fa-comment"></i>
                <span class="badge" id="privateBadge">0</span>
            </div>
            <div class="menu-item" onclick="openSettings()" title="Ayarlar">
                <i class="fas fa-cog"></i>
            </div>
            <div class="profile-avatar" id="profileAvatar" onclick="openProfile()">
                <span id="avatarText">?</span>
            </div>
        </div>

        <!-- ANA İÇERİK -->
        <div class="main-content">
            <!-- VİDEO -->
            <div class="video-section">
                <div id="youtube-player"></div>
                <div class="video-controls">
                    <button class="control-btn" onclick="toggleMute()" id="muteBtn">
                        <i class="fas fa-volume-up"></i>
                    </button>
                    <button class="control-btn" onclick="togglePlay()" id="playBtn">
                        <i class="fas fa-pause"></i>
                    </button>
                </div>
            </div>

            <!-- SOHBET -->
            <div class="chat-section">
                <div class="chat-header">
                    <div class="channel-info">
                        <i class="fas fa-hashtag"></i>
                        <span id="currentChannel">genel</span>
                        <span id="onlineCount">0</span>
                    </div>
                    <button class="subscribe-btn" id="subscribeBtn" onclick="toggleSubscribe()">
                        <i class="fas fa-plus"></i> Abone Ol
                    </button>
                </div>

                <div class="messages" id="messages">
                    <div class="system-message">CETCETY'ye hoş geldin!</div>
                </div>

                <div class="message-input">
                    <textarea id="messageInput" placeholder="Mesaj yaz..." rows="1"></textarea>
                    <button class="send-btn" onclick="sendMessage()">
                        <i class="fas fa-paper-plane"></i>
                    </button>
                </div>
            </div>
        </div>

        <!-- YOUTUBE PLAYLIST -->
        <div class="playlist-panel" id="playlistPanel">
            <div class="playlist-header">
                <h3><i class="fab fa-youtube"></i> Playlist</h3>
                <button class="close-btn" onclick="closePlaylist()">×</button>
            </div>
            <div class="playlist-items" id="playlistItems"></div>
            <button class="add-video-btn" onclick="openAddVideo()">
                <i class="fas fa-plus"></i> Video Ekle
            </button>
        </div>

        <!-- KANAL LİSTESİ -->
        <div class="panel" id="channelsPanel">
            <div class="panel-header">
                <h3>Kanallar</h3>
                <button class="close-btn" onclick="closeChannels()">×</button>
            </div>
            <div class="panel-content" id="channelsList"></div>
            <button class="create-channel" onclick="openCreateChannel()">
                <i class="fas fa-plus"></i> Kanal Aç
            </button>
        </div>

        <!-- ÖZEL SOHBET LİSTESİ -->
        <div class="panel" id="privateListPanel">
            <div class="panel-header">
                <h3>Özel Sohbetler</h3>
                <button class="close-btn" onclick="closePrivateList()">×</button>
            </div>
            <div class="panel-content" id="privateList"></div>
        </div>

        <!-- ÖZEL SOHBET -->
        <div class="private-chat" id="privateChat">
            <div class="private-header">
                <div class="private-user">
                    <span id="privateName"></span>
                </div>
                <button class="close-btn" onclick="closePrivateChat()">×</button>
            </div>
            <div class="private-messages" id="privateMessages"></div>
            <div class="private-input">
                <div class="media-buttons">
                    <button onclick="uploadPrivateImage()">
                        <i class="fas fa-image"></i>
                    </button>
                    <button onclick="uploadPrivateVideo()">
                        <i class="fas fa-video"></i>
                    </button>
                    <input type="file" id="privateImage" accept="image/*" style="display: none;">
                    <input type="file" id="privateVideo" accept="video/*" style="display: none;">
                </div>
                <textarea id="privateInput" placeholder="Mesaj yaz..." rows="1"></textarea>
                <button class="send-btn" onclick="sendPrivate()">
                    <i class="fas fa-paper-plane"></i>
                </button>
            </div>
        </div>

        <!-- AYARLAR -->
        <div class="panel" id="settingsPanel">
            <div class="panel-header">
                <h3>Ayarlar</h3>
                <button class="close-btn" onclick="closeSettings()">×</button>
            </div>
            <div class="panel-content" id="settingsContent">
                <!-- Admin paneli burada görünecek -->
            </div>
        </div>
    </div>

    <!-- JAVASCRIPT -->
    <script src="firebase.js"></script>
    <script src="utils.js"></script>
    <script src="auth.js"></script>
    <script src="chat.js"></script>
    <script src="private.js"></script>
    <script src="media.js"></script>
    <script src="admin.js"></script>
</body>
</html>
