<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Popbox Elite - Minimal Chat</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        /* TEMEL SIFIRLAMA */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: #000000;
            color: #ffffff;
            height: 100vh;
            overflow: hidden;
            position: relative;
            transition: background-color 0.5s ease, color 0.5s ease;
        }

        body.day-mode {
            background: #ffffff;
            color: #000000;
        }

        .hidden {
            display: none !important;
        }

        /* YOUTUBE VÄ°DEO PANELÄ° */
        .youtube-panel {
            position: fixed;
            top: 50%;
            right: 30px;
            transform: translateY(-50%);
            width: 420px;
            height: 680px;
            z-index: 10;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 
                0 25px 50px rgba(0, 0, 0, 0.5),
                inset 0 0 0 1px rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            background: rgba(0, 0, 0, 0.75);
            border: 1px solid rgba(255, 255, 255, 0.15);
        }

        .day-mode .youtube-panel {
            background: rgba(255, 255, 255, 0.75);
            border: 1px solid rgba(0, 0, 0, 0.15);
            box-shadow: 
                0 25px 50px rgba(0, 0, 0, 0.1),
                inset 0 0 0 1px rgba(0, 0, 0, 0.1);
        }

        .youtube-header {
            padding: 20px;
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .day-mode .youtube-header {
            background: rgba(255, 255, 255, 0.5);
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
        }

        .youtube-tabs {
            display: flex;
            gap: 10px;
        }

        .youtube-tab {
            padding: 8px 16px;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(5px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 12px;
            color: rgba(255, 255, 255, 0.8);
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .day-mode .youtube-tab {
            background: rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(0, 0, 0, 0.2);
            color: rgba(0, 0, 0, 0.8);
        }

        .youtube-tab.active {
            background: rgba(255, 255, 255, 0.25);
            border-color: rgba(255, 255, 255, 0.3);
            color: #ffffff;
        }

        .day-mode .youtube-tab.active {
            background: rgba(0, 0, 0, 0.25);
            border-color: rgba(0, 0, 0, 0.3);
            color: #000000;
        }

        .youtube-iframe {
            width: 100%;
            height: 380px;
            border: none;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .day-mode .youtube-iframe {
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
        }

        .youtube-overlay {
            position: absolute;
            top: 80px;
            left: 0;
            width: 100%;
            height: 380px;
            background: linear-gradient(135deg, 
                rgba(0, 0, 0, 0.3) 0%, 
                rgba(0, 0, 0, 0.1) 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0.5;
            transition: opacity 0.3s ease;
        }

        .youtube-overlay:hover {
            opacity: 0.8;
        }

        .youtube-title {
            padding: 20px;
            font-size: 16px;
            font-weight: 600;
            color: rgba(255, 255, 255, 0.95);
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(10px);
        }

        .day-mode .youtube-title {
            color: rgba(0, 0, 0, 0.95);
            background: rgba(255, 255, 255, 0.5);
        }

        .playlist-container {
            padding: 15px 5px 15px 15px;
            max-height: 200px;
            overflow-y: auto;
            display: none; /* BaÅŸlangÄ±Ã§ta gizli */
        }

        /* TÃœM SCROLLBARLAR Ä°Ã‡Ä°N TEMA UYUMLU STÄ°LLER */
        .playlist-container::-webkit-scrollbar,
        .nick-list::-webkit-scrollbar,
        .chat-messages-container::-webkit-scrollbar,
        .private-chat-messages::-webkit-scrollbar {
            width: 8px;
        }

        .playlist-container::-webkit-scrollbar-track,
        .nick-list::-webkit-scrollbar-track,
        .chat-messages-container::-webkit-scrollbar-track,
        .private-chat-messages::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
        }

        .day-mode .playlist-container::-webkit-scrollbar-track,
        .day-mode .nick-list::-webkit-scrollbar-track,
        .day-mode .chat-messages-container::-webkit-scrollbar-track,
        .day-mode .private-chat-messages::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.05);
        }

        .playlist-container::-webkit-scrollbar-thumb,
        .nick-list::-webkit-scrollbar-thumb,
        .chat-messages-container::-webkit-scrollbar-thumb,
        .private-chat-messages::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.3);
            border-radius: 10px;
            transition: all 0.3s ease;
        }

        .day-mode .playlist-container::-webkit-scrollbar-thumb,
        .day-mode .nick-list::-webkit-scrollbar-thumb,
        .day-mode .chat-messages-container::-webkit-scrollbar-thumb,
        .day-mode .private-chat-messages::-webkit-scrollbar-thumb {
            background: rgba(0, 0, 0, 0.3);
        }

        .playlist-container::-webkit-scrollbar-thumb:hover,
        .nick-list::-webkit-scrollbar-thumb:hover,
        .chat-messages-container::-webkit-scrollbar-thumb:hover,
        .private-chat-messages::-webkit-scrollbar-thumb:hover {
            background: rgba(255, 255, 255, 0.4);
        }

        .day-mode .playlist-container::-webkit-scrollbar-thumb:hover,
        .day-mode .nick-list::-webkit-scrollbar-thumb:hover,
        .day-mode .chat-messages-container::-webkit-scrollbar-thumb:hover,
        .day-mode .private-chat-messages::-webkit-scrollbar-thumb:hover {
            background: rgba(0, 0, 0, 0.4);
        }

        /* Firefox iÃ§in */
        .playlist-container,
        .nick-list,
        .chat-messages-container,
        .private-chat-messages {
            scrollbar-width: thin;
            scrollbar-color: rgba(255, 255, 255, 0.3) rgba(255, 255, 255, 0.05);
        }

        .day-mode .playlist-container,
        .day-mode .nick-list,
        .day-mode .chat-messages-container,
        .day-mode .private-chat-messages {
            scrollbar-color: rgba(0, 0, 0, 0.3) rgba(0, 0, 0, 0.05);
        }

        .playlist-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px;
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(5px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            margin-bottom: 10px;
            margin-right: 5px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }

        .day-mode .playlist-item {
            background: rgba(0, 0, 0, 0.05);
            border: 1px solid rgba(0, 0, 0, 0.1);
        }

        .playlist-item:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: translateX(5px);
        }

        .day-mode .playlist-item:hover {
            background: rgba(0, 0, 0, 0.1);
        }

        .playlist-item.active {
            background: rgba(255, 255, 255, 0.15);
            border-color: rgba(255, 255, 255, 0.2);
        }

        .day-mode .playlist-item.active {
            background: rgba(0, 0, 0, 0.15);
            border-color: rgba(0, 0, 0, 0.2);
        }

        .playlist-number {
            width: 24px;
            height: 24px;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(5px);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: 600;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .day-mode .playlist-number {
            background: rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(0, 0, 0, 0.2);
        }

        .playlist-title {
            flex: 1;
            font-size: 14px;
            color: rgba(255, 255, 255, 0.9);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .day-mode .playlist-title {
            color: rgba(0, 0, 0, 0.9);
        }

        .playlist-duration {
            font-size: 12px;
            color: rgba(255, 255, 255, 0.5);
            white-space: nowrap;
        }

        .day-mode .playlist-duration {
            color: rgba(0, 0, 0, 0.5);
        }

        /* PLAYLIST YÃ–NETÄ°M PANELÄ° */
        .playlist-manage-panel {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 500px;
            max-width: 90%;
            background: rgba(0, 0, 0, 0.95);
            backdrop-filter: blur(30px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            padding: 30px;
            z-index: 2000;
            display: none;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.8);
        }

        .day-mode .playlist-manage-panel {
            background: rgba(255, 255, 255, 0.95);
            border: 1px solid rgba(0, 0, 0, 0.2);
        }

        .playlist-manage-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .day-mode .playlist-manage-header {
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
        }

        .playlist-manage-title {
            font-size: 20px;
            font-weight: 600;
            color: rgba(255, 255, 255, 0.95);
        }

        .day-mode .playlist-manage-title {
            color: rgba(0, 0, 0, 0.95);
        }

        .playlist-manage-close {
            width: 36px;
            height: 36px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            color: rgba(255, 255, 255, 0.9);
        }

        .playlist-manage-close:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: rotate(90deg);
        }

        .day-mode .playlist-manage-close {
            background: rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(0, 0, 0, 0.2);
            color: rgba(0, 0, 0, 0.9);
        }

        .playlist-manage-form {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .playlist-input-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .playlist-input-label {
            font-size: 14px;
            font-weight: 500;
            color: rgba(255, 255, 255, 0.9);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .day-mode .playlist-input-label {
            color: rgba(0, 0, 0, 0.9);
        }

        .playlist-input {
            padding: 14px 16px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 12px;
            color: #ffffff;
            font-size: 14px;
            font-family: 'Inter', sans-serif;
            transition: all 0.3s ease;
        }

        .day-mode .playlist-input {
            background: rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(0, 0, 0, 0.2);
            color: #000000;
        }

        .playlist-input:focus {
            outline: none;
            border-color: rgba(255, 255, 255, 0.4);
            background: rgba(255, 255, 255, 0.15);
            box-shadow: 0 0 0 3px rgba(255, 255, 255, 0.1);
        }

        .day-mode .playlist-input:focus {
            border-color: rgba(0, 0, 0, 0.4);
            background: rgba(0, 0, 0, 0.15);
            box-shadow: 0 0 0 3px rgba(0, 0, 0, 0.1);
        }

        .playlist-buttons {
            display: flex;
            gap: 12px;
            margin-top: 10px;
        }

        .playlist-btn {
            flex: 1;
            padding: 14px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 12px;
            color: rgba(255, 255, 255, 0.9);
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Inter', sans-serif;
        }

        .playlist-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
        }

        .day-mode .playlist-btn {
            background: rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(0, 0, 0, 0.2);
            color: rgba(0, 0, 0, 0.9);
        }

        .day-mode .playlist-btn:hover {
            background: rgba(0, 0, 0, 0.2);
        }

        .playlist-btn.primary {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.2), rgba(255, 255, 255, 0.1));
            border-color: rgba(255, 255, 255, 0.3);
            font-weight: 600;
        }

        .day-mode .playlist-btn.primary {
            background: linear-gradient(135deg, rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.1));
            border-color: rgba(0, 0, 0, 0.3);
        }

        /* VÄ°DEO KONTROL BUTONLARI - BASÄ°T VE Ã‡ALIÅžAN */
        .video-controls {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 15px 20px;
            background: rgba(0, 0, 0, 0.4);
            backdrop-filter: blur(15px);
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .day-mode .video-controls {
            background: rgba(255, 255, 255, 0.4);
            border-top: 1px solid rgba(0, 0, 0, 0.1);
        }

        .video-control-btn {
            flex: 1;
            padding: 12px 16px;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            color: rgba(255, 255, 255, 0.95);
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            transition: all 0.3s ease;
        }

        .day-mode .video-control-btn {
            background: rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(0, 0, 0, 0.2);
            color: rgba(0, 0, 0, 0.95);
        }

        .video-control-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
        }

        .day-mode .video-control-btn:hover {
            background: rgba(0, 0, 0, 0.2);
        }

        .video-control-btn.active {
            background: rgba(255, 255, 255, 0.25);
            border-color: rgba(255, 255, 255, 0.3);
            box-shadow: 0 4px 12px rgba(255, 255, 255, 0.1);
        }

        .day-mode .video-control-btn.active {
            background: rgba(0, 0, 0, 0.25);
            border-color: rgba(0, 0, 0, 0.3);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        /* MESAJ SÄ°LME BUTONU */
        .message-delete-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            width: 28px;
            height: 28px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            display: none;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 11px;
            color: rgba(255, 255, 255, 0.7);
            transition: all 0.3s ease;
            z-index: 2;
        }

        .chat-message:hover .message-delete-btn,
        .private-message:hover .message-delete-btn {
            display: flex;
        }

        .message-delete-btn:hover {
            background: rgba(255, 59, 48, 0.3);
            border-color: rgba(255, 59, 48, 0.5);
            color: #ff3b30;
            transform: scale(1.1);
        }

        .day-mode .message-delete-btn {
            background: rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(0, 0, 0, 0.2);
            color: rgba(0, 0, 0, 0.7);
        }

        .day-mode .message-delete-btn:hover {
            background: rgba(255, 59, 48, 0.2);
            border-color: rgba(255, 59, 48, 0.3);
            color: #ff3b30;
        }

        /* CHAT MESAJLARI */
        .chat-messages {
            flex: 1;
            position: relative;
            display: flex;
            flex-direction: column;
            justify-content: flex-end;
            padding: 20px;
            height: calc(100vh - 80px);
        }

        .chat-messages-container {
            display: flex;
            flex-direction: column;
            gap: 12px;
            max-height: 100%;
            overflow-y: auto;
            padding-right: 10px;
            scroll-behavior: smooth;
        }

        .chat-message {
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 18px;
            padding: 16px 20px;
            max-width: 75%;
            animation: messageAppear 0.3s ease forwards;
            opacity: 0;
            transform: translateY(10px);
            position: relative;
        }

        @keyframes messageAppear {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .day-mode .chat-message {
            background: rgba(255, 255, 255, 0.5);
            border: 1px solid rgba(0, 0, 0, 0.1);
        }

        .chat-message.left {
            align-self: flex-start;
            background: rgba(255, 255, 255, 0.1);
        }

        .day-mode .chat-message.left {
            background: rgba(0, 0, 0, 0.1);
        }

        .chat-message.right {
            align-self: flex-end;
            background: rgba(255, 255, 255, 0.15);
        }

        .day-mode .chat-message.right {
            background: rgba(0, 0, 0, 0.15);
        }

        .message-user {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 6px;
        }

        .message-user-avatar {
            width: 28px;
            height: 28px;
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(5px);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 13px;
            border: 1px solid rgba(255, 255, 255, 0.25);
            overflow: hidden;
        }

        .day-mode .message-user-avatar {
            background: rgba(0, 0, 0, 0.15);
            border: 1px solid rgba(0, 0, 0, 0.25);
        }

        .message-user-avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .message-user-name {
            font-size: 13px;
            font-weight: 600;
            color: rgba(255, 255, 255, 0.95);
        }

        .day-mode .message-user-name {
            color: rgba(0, 0, 0, 0.95);
        }

        .message-content {
            font-size: 14px;
            line-height: 1.5;
            color: rgba(255, 255, 255, 0.95);
            word-break: break-word;
        }

        .day-mode .message-content {
            color: rgba(0, 0, 0, 0.95);
        }

        .message-time {
            font-size: 11px;
            color: rgba(255, 255, 255, 0.4);
            text-align: right;
            margin-top: 6px;
        }

        .day-mode .message-time {
            color: rgba(0, 0, 0, 0.4);
        }

        /* YAPAY ZEKA MESAJ STÄ°LÄ° */
        .ai-message {
            background: linear-gradient(135deg, rgba(100, 200, 255, 0.1), rgba(100, 200, 255, 0.05));
            border: 1px solid rgba(100, 200, 255, 0.2);
        }

        .ai-message .message-user-name::after {
            content: " (AI)";
            font-size: 11px;
            opacity: 0.7;
        }

        /* PROFÄ°L PANELÄ° */
        .profile-panel {
            position: fixed;
            left: 70px;
            top: 0;
            width: 350px;
            height: 100%;
            background: rgba(0, 0, 0, 0.85);
            backdrop-filter: blur(25px);
            border-right: 1px solid rgba(255, 255, 255, 0.15);
            z-index: 95;
            display: none;
            flex-direction: column;
            padding: 20px;
            transform: translateX(-100%);
            transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            opacity: 0;
        }

        .profile-panel.active {
            transform: translateX(0);
            opacity: 1;
        }

        .day-mode .profile-panel {
            background: rgba(255, 255, 255, 0.85);
            border-right: 1px solid rgba(0, 0, 0, 0.15);
        }

        /* Ã–ZEL SOHBET PANELÄ° */
        .private-chat-panel {
            position: fixed;
            left: 370px;
            top: 0;
            right: 450px;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(30px);
            border-right: 1px solid rgba(255, 255, 255, 0.15);
            border-left: 1px solid rgba(255, 255, 255, 0.15);
            z-index: 90;
            display: none;
            flex-direction: column;
            transform: translateX(100%);
            transition: transform 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .private-chat-panel.active {
            transform: translateX(0);
            display: flex;
        }

        .day-mode .private-chat-panel {
            background: rgba(255, 255, 255, 0.9);
            border-right: 1px solid rgba(0, 0, 0, 0.15);
            border-left: 1px solid rgba(0, 0, 0, 0.15);
        }

        .private-chat-messages {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .private-message {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.15);
            border-radius: 18px;
            padding: 16px 20px;
            max-width: 75%;
            animation: messageAppear 0.3s ease forwards;
            position: relative;
        }

        .day-mode .private-message {
            background: rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(0, 0, 0, 0.15);
        }

        .private-message.right {
            align-self: flex-end;
            background: rgba(255, 255, 255, 0.15);
        }

        .day-mode .private-message.right {
            background: rgba(0, 0, 0, 0.15);
        }

        .private-message.left {
            align-self: flex-start;
        }

        /* DÄ°ÄžER STÄ°LLER (MEVCUT KODUN AYNI KALAN KISIMLARI) */
        .blur-layer {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            transition: opacity 1.5s ease;
        }

        .day-mode .blur-layer {
            background: rgba(255, 255, 255, 0.8);
        }

        .icon-menu {
            position: fixed;
            left: 0;
            top: 0;
            width: 70px;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(20px);
            border-right: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px 0;
            z-index: 100;
        }

        .day-mode .icon-menu {
            background: rgba(255, 255, 255, 0.7);
            border-right: 1px solid rgba(0, 0, 0, 0.1);
        }

        .menu-icon {
            width: 50px;
            height: 50px;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 12px;
            color: rgba(255, 255, 255, 0.9);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            margin-bottom: 15px;
            transition: all 0.3s ease;
            position: relative;
        }

        .day-mode .menu-icon {
            background: rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(0, 0, 0, 0.2);
            color: rgba(0, 0, 0, 0.9);
        }

        .menu-icon:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
        }

        .day-mode .menu-icon:hover {
            background: rgba(0, 0, 0, 0.2);
        }

        .menu-icon.active {
            background: rgba(255, 255, 255, 0.25);
            border-color: rgba(255, 255, 255, 0.3);
        }

        .day-mode .menu-icon.active {
            background: rgba(0, 0, 0, 0.25);
            border-color: rgba(0, 0, 0, 0.3);
        }

        .online-panel {
            position: fixed;
            left: 70px;
            top: 0;
            width: 300px;
            height: 100%;
            background: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(15px);
            border-right: 1px solid rgba(255, 255, 255, 0.1);
            z-index: 90;
            display: flex;
            flex-direction: column;
            padding: 20px;
        }

        .day-mode .online-panel {
            background: rgba(255, 255, 255, 0.6);
            border-right: 1px solid rgba(0, 0, 0, 0.1);
        }

        .online-header {
            padding-bottom: 15px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            margin-bottom: 20px;
        }

        .day-mode .online-header {
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
        }

        .online-header h3 {
            font-size: 18px;
            font-weight: 600;
            color: rgba(255, 255, 255, 0.95);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .day-mode .online-header h3 {
            color: rgba(0, 0, 0, 0.95);
        }

        .online-tabs {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }

        .online-tab {
            flex: 1;
            padding: 10px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            color: rgba(255, 255, 255, 0.9);
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            text-align: center;
            transition: all 0.3s ease;
        }

        .day-mode .online-tab {
            background: rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(0, 0, 0, 0.2);
            color: rgba(0, 0, 0, 0.9);
        }

        .online-tab.active {
            background: rgba(255, 255, 255, 0.25);
            border-color: rgba(255, 255, 255, 0.3);
            color: #ffffff;
        }

        .day-mode .online-tab.active {
            background: rgba(0, 0, 0, 0.25);
            border-color: rgba(0, 0, 0, 0.3);
            color: #000000;
        }

        .nick-list {
            flex: 1;
            overflow-y: auto;
            padding-right: 10px;
        }

        .nick-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 14px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
            cursor: pointer;
            transition: all 0.2s ease;
            position: relative;
        }

        .nick-item.has-notification {
            background: rgba(255, 59, 48, 0.1);
            border-radius: 10px;
            padding: 14px;
            margin-right: 5px;
        }

        .nick-item:hover {
            background: rgba(255, 255, 255, 0.05);
            padding-left: 8px;
            border-radius: 10px;
        }

        .day-mode .nick-item:hover {
            background: rgba(0, 0, 0, 0.05);
        }

        .nick-avatar {
            width: 40px;
            height: 40px;
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(5px);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 16px;
            border: 2px solid rgba(255, 255, 255, 0.25);
            overflow: hidden;
            position: relative;
        }

        .nick-avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .day-mode .nick-avatar {
            background: rgba(0, 0, 0, 0.15);
            border: 2px solid rgba(0, 0, 0, 0.25);
        }

        .nick-info {
            flex: 1;
        }

        .nick-name {
            font-size: 15px;
            font-weight: 600;
            color: rgba(255, 255, 255, 0.95);
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .day-mode .nick-name {
            color: rgba(0, 0, 0, 0.95);
        }

        .nick-status {
            font-size: 12px;
            color: rgba(255, 255, 255, 0.6);
            margin-top: 3px;
        }

        .day-mode .nick-status {
            color: rgba(0, 0, 0, 0.6);
        }

        .online-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.7);
            box-shadow: 0 0 10px rgba(255, 255, 255, 0.3);
        }

        .day-mode .online-dot {
            background: rgba(0, 0, 0, 0.7);
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
        }

        .chat-panel {
            position: fixed;
            left: 370px;
            top: 0;
            right: 450px;
            height: 100%;
            background: transparent;
            z-index: 80;
            display: flex;
            flex-direction: column;
        }

        .message-input-area {
            padding: 20px;
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(15px);
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            flex-shrink: 0;
        }

        .day-mode .message-input-area {
            background: rgba(255, 255, 255, 0.5);
            border-top: 1px solid rgba(0, 0, 0, 0.1);
        }

        .message-input-wrapper {
            display: flex;
            gap: 12px;
        }

        .message-input {
            flex: 1;
            padding: 16px 20px;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 24px;
            color: #ffffff;
            font-size: 14px;
            font-family: inherit;
            transition: all 0.3s ease;
        }

        .day-mode .message-input {
            background: rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(0, 0, 0, 0.2);
            color: #000000;
        }

        .message-input:focus {
            outline: none;
            border-color: rgba(255, 255, 255, 0.4);
            background: rgba(255, 255, 255, 0.15);
        }

        .day-mode .message-input:focus {
            border-color: rgba(0, 0, 0, 0.4);
            background: rgba(0, 0, 0, 0.15);
        }

        .send-button {
            width: 54px;
            height: 54px;
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            color: rgba(255, 255, 255, 0.95);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            transition: all 0.3s ease;
        }

        .day-mode .send-button {
            background: rgba(0, 0, 0, 0.15);
            border: 1px solid rgba(0, 0, 0, 0.2);
            color: rgba(0, 0, 0, 0.95);
        }

        .send-button:hover {
            background: rgba(255, 255, 255, 0.25);
            transform: scale(1.1);
        }

        .day-mode .send-button:hover {
            background: rgba(0, 0, 0, 0.25);
        }

        /* KIRMIZI YANMA NOKTASI */
        .notification-dot {
            position: absolute;
            top: -2px;
            right: -2px;
            width: 14px;
            height: 14px;
            background: #ff3b30;
            border-radius: 50%;
            border: 2px solid rgba(0, 0, 0, 0.9);
            animation: pulse 2s infinite;
            display: none;
        }

        .day-mode .notification-dot {
            border: 2px solid rgba(255, 255, 255, 0.9);
        }

        @keyframes pulse {
            0% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.1); opacity: 0.7; }
            100% { transform: scale(1); opacity: 1; }
        }

        /* AI KULLANICI STÄ°LÄ° */
        .ai-user .nick-avatar {
            background: linear-gradient(135deg, rgba(100, 200, 255, 0.2), rgba(100, 200, 255, 0.1));
            border-color: rgba(100, 200, 255, 0.3);
        }

        .day-mode .ai-user .nick-avatar {
            background: linear-gradient(135deg, rgba(100, 200, 255, 0.1), rgba(100, 200, 255, 0.05));
            border-color: rgba(100, 200, 255, 0.2);
        }

        .ai-user .online-dot {
            background: #34c759;
            box-shadow: 0 0 10px rgba(52, 199, 89, 0.5);
        }

        /* RESPONSIVE */
        @media (max-width: 1400px) {
            .youtube-panel {
                width: 380px;
                height: 650px;
            }
            
            .chat-panel {
                right: 410px;
            }
            
            .private-chat-panel {
                left: 370px;
                right: 410px;
            }
        }

        @media (max-width: 1200px) {
            .youtube-panel {
                display: none;
            }
            
            .chat-panel {
                right: 0;
            }
            
            .private-chat-panel {
                right: 0;
            }
        }

        @media (max-width: 992px) {
            .online-panel {
                display: none;
            }
            
            .icon-menu {
                width: 60px;
            }
            
            .chat-panel {
                left: 60px;
            }
            
            .private-chat-panel {
                left: 60px;
            }
        }

        @media (max-width: 768px) {
            .chat-panel {
                left: 0;
                padding-bottom: 80px;
            }
            
            .private-chat-panel {
                left: 0;
            }
            
            .icon-menu {
                bottom: 0;
                top: auto;
                width: 100%;
                height: 70px;
                flex-direction: row;
                justify-content: space-around;
                padding: 0 10px;
                border-right: none;
                border-top: 1px solid rgba(255, 255, 255, 0.1);
            }
            
            .menu-icon {
                width: 45px;
                height: 45px;
                margin-bottom: 0;
            }
        }
    </style>
</head>
<body class="night-mode">
    <!-- YOUTUBE VÄ°DEO PANELÄ° -->
    <div class="youtube-panel" id="youtubePanel">
        <div class="youtube-header">
            <div class="youtube-tabs">
                <div class="youtube-tab active" onclick="switchYouTubeTab('live')">CanlÄ± YayÄ±n</div>
                <div class="youtube-tab" onclick="togglePlaylist()">Playlist</div>
            </div>
            <div style="display: flex; gap: 8px;">
                <div class="add-video-btn admin-only" onclick="openPlaylistManagePanel()" title="Playlist YÃ¶netimi">
                    <i class="fas fa-plus"></i>
                </div>
                <div class="menu-icon" style="width: 40px; height: 40px; margin: 0;" onclick="togglePlaylist()" title="Playlist">
                    <i class="fas fa-list"></i>
                </div>
            </div>
        </div>
        
        <iframe 
            class="youtube-iframe"
            id="youtubeIframe"
            src="https://www.youtube.com/embed/jfKfPfyJRdk?autoplay=1&mute=0&controls=1&modestbranding=1&rel=0"
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
            allowfullscreen>
        </iframe>
        
        <div class="youtube-overlay">
            <i class="fas fa-play" style="font-size: 40px; color: rgba(255,255,255,0.8);"></i>
        </div>
        
        <div class="youtube-title" id="videoTitle">Popbox Radio â€¢ 24/7 CanlÄ± MÃ¼zik</div>
        
        <!-- Video Kontrolleri - Ã‡ALIÅžAN -->
        <div class="video-controls">
            <button class="video-control-btn" onclick="toggleVideoMute()" id="muteBtn">
                <i class="fas fa-volume-up"></i>
                <span id="muteText">Ses Kapat</span>
            </button>
            <button class="video-control-btn" onclick="toggleVideoPlay()" id="playBtn">
                <i class="fas fa-pause" id="playIcon"></i>
                <span id="playText">Duraklat</span>
            </button>
        </div>
        
        <div class="playlist-container" id="playlistContainer">
            <!-- Playlist Ã¶ÄŸeleri buraya yÃ¼klenecek -->
        </div>
    </div>

    <!-- PLAYLIST YÃ–NETÄ°M PANELÄ° -->
    <div class="playlist-manage-panel" id="playlistManagePanel">
        <div class="playlist-manage-header">
            <div class="playlist-manage-title">ðŸŽµ Playlist YÃ¶netimi</div>
            <div class="playlist-manage-close" onclick="closePlaylistManagePanel()">
                <i class="fas fa-times"></i>
            </div>
        </div>
        <div class="playlist-manage-form">
            <div class="playlist-input-group">
                <label class="playlist-input-label">
                    <i class="fas fa-link"></i>
                    YouTube Video ID veya URL
                </label>
                <input type="text" id="videoIdInput" class="playlist-input" placeholder="Ã–rnek: jfKfPfyJRdk veya https://youtu.be/jfKfPfyJRdk">
            </div>
            <div class="playlist-input-group">
                <label class="playlist-input-label">
                    <i class="fas fa-heading"></i>
                    Video BaÅŸlÄ±ÄŸÄ±
                </label>
                <input type="text" id="videoTitleInput" class="playlist-input" placeholder="Video baÅŸlÄ±ÄŸÄ±nÄ± girin">
            </div>
            <div class="playlist-input-group">
                <label class="playlist-input-label">
                    <i class="fas fa-tag"></i>
                    Video TÃ¼rÃ¼
                </label>
                <select id="videoTypeInput" class="playlist-input">
                    <option value="live">ðŸŽ¥ CanlÄ± YayÄ±n</option>
                    <option value="radio">ðŸ“» Radyo</option>
                    <option value="playlist">ðŸŽµ Playlist</option>
                    <option value="music">ðŸŽ¶ MÃ¼zik</option>
                </select>
            </div>
            <div class="playlist-buttons">
                <button class="playlist-btn" onclick="closePlaylistManagePanel()">
                    <i class="fas fa-times"></i> Ä°ptal
                </button>
                <button class="playlist-btn primary" onclick="addVideoToPlaylist()">
                    <i class="fas fa-plus"></i> Ekle
                </button>
            </div>
        </div>
    </div>

    <!-- PROFÄ°L PANELÄ° (MEVCUT KOD) -->
    <div class="profile-panel" id="profilePanel">
        <div class="profile-header">
            <div class="profile-avatar-large" id="profileAvatarLarge" onclick="uploadProfileImage()">
                <span id="profileAvatarText">M</span>
            </div>
            <div class="profile-info">
                <h3 id="profileName">mateky</h3>
                <div class="profile-role" id="profileRole">owner</div>
            </div>
        </div>
        
        <div class="profile-sections">
            <div class="profile-section">
                <h4>Profil AyarlarÄ±</h4>
                <div class="profile-item" onclick="uploadProfileImage()">
                    <div class="profile-item-icon">
                        <i class="fas fa-camera"></i>
                    </div>
                    <div class="profile-item-text">
                        <div class="profile-item-title">Profil Resmi YÃ¼kle</div>
                        <div class="profile-item-desc">Resim dosyasÄ± yÃ¼kleyin (JPG, PNG)</div>
                    </div>
                </div>
                
                <div class="profile-item" onclick="changePassword()" id="passwordChangeItem">
                    <div class="profile-item-icon">
                        <i class="fas fa-key"></i>
                    </div>
                    <div class="profile-item-text">
                        <div class="profile-item-title">Åžifre DeÄŸiÅŸtir</div>
                        <div class="profile-item-desc">GÃ¼venliÄŸiniz iÃ§in ÅŸifrenizi gÃ¼ncelleyin</div>
                    </div>
                </div>
            </div>
            
            <div class="profile-section">
                <h4>GÃ¶rÃ¼nÃ¼m</h4>
                <div class="profile-item" onclick="toggleTheme()">
                    <div class="profile-item-icon">
                        <i class="fas fa-moon"></i>
                    </div>
                    <div class="profile-item-text">
                        <div class="profile-item-title" id="themeTitle">Gece Modu</div>
                        <div class="profile-item-desc">Tema deÄŸiÅŸtir: Gece/GÃ¼ndÃ¼z</div>
                    </div>
                </div>
                
                <div class="profile-item" onclick="toggleSleepMode()">
                    <div class="profile-item-icon">
                        <i class="fas fa-bed"></i>
                    </div>
                    <div class="profile-item-text">
                        <div class="profile-item-title" id="sleepModeTitle">Uyku Modu: KapalÄ±</div>
                        <div class="profile-item-desc">Otomatik kapanma ayarlarÄ±</div>
                    </div>
                </div>
            </div>
            
            <div class="profile-section">
                <h4>Hesap Ä°ÅŸlemleri</h4>
                <div class="profile-item" onclick="openRegistrationPanel()" id="registrationItem">
                    <div class="profile-item-icon">
                        <i class="fas fa-user-plus"></i>
                    </div>
                    <div class="profile-item-text">
                        <div class="profile-item-title" id="registrationTitle">Hesap KaydÄ±</div>
                        <div class="profile-item-desc">HesabÄ±nÄ±zÄ± kaydedin veya gÃ¼ncelleyin</div>
                    </div>
                </div>
                
                <div class="profile-item" onclick="handleLogout()">
                    <div class="profile-item-icon">
                        <i class="fas fa-sign-out-alt"></i>
                    </div>
                    <div class="profile-item-text">
                        <div class="profile-item-title">Ã‡Ä±kÄ±ÅŸ Yap</div>
                        <div class="profile-item-desc">GÃ¼venli Ã§Ä±kÄ±ÅŸ</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Ã–ZEL SOHBET PANELÄ° -->
    <div class="private-chat-panel" id="privateChatPanel">
        <div class="private-chat-header">
            <div class="private-chat-user">
                <div class="private-chat-avatar" id="privateChatAvatar">
                    <span id="privateChatAvatarText">A</span>
                </div>
                <div>
                    <div id="privateChatUserName" style="font-weight: 600; font-size: 16px;">Ahmet</div>
                    <div id="privateChatUserStatus" style="font-size: 12px; color: rgba(255,255,255,0.6);">Ã‡evrimiÃ§i</div>
                </div>
            </div>
            <div class="private-chat-actions">
                <div class="private-action-btn report" onclick="reportUser()">
                    <i class="fas fa-flag"></i> Åžikayet
                </div>
                <div class="private-action-btn block" onclick="blockUser()" id="blockBtn">
                    <i class="fas fa-ban"></i> Engelle
                </div>
                <div class="private-action-btn" onclick="closePrivateChat()">
                    <i class="fas fa-times"></i> Kapat
                </div>
            </div>
        </div>
        
        <div class="private-chat-messages" id="privateChatMessages">
            <!-- Ã–zel mesajlar buraya yÃ¼klenecek -->
        </div>
        
        <div class="private-input-area">
            <div class="private-input-wrapper">
                <input type="file" id="privateFileInput" accept="image/*,video/*" style="display: none;">
                <button class="private-attachment-btn" onclick="openPrivateFilePicker()" title="Dosya Ekle">
                    <i class="fas fa-paperclip"></i>
                </button>
                <input type="text" id="privateMessageInput" class="private-message-input" placeholder="Ã–zel mesajÄ±nÄ±zÄ± yazÄ±n...">
                <button class="private-send-btn" onclick="sendPrivateMessage()">
                    <i class="fas fa-paper-plane"></i>
                </button>
            </div>
        </div>
    </div>

    <!-- BULANIK KATMAN -->
    <div class="blur-layer" id="blurLayer"></div>

    <!-- SOL BAR - ICON MENU -->
    <div class="icon-menu">
        <div class="menu-icon active" onclick="togglePanel('online')" title="Online Listesi" id="onlineListBtn">
            <i class="fas fa-users"></i>
        </div>
        <div class="menu-icon" onclick="toggleProfilePanel()" title="Profil" id="profileIconBtn">
            <i class="fas fa-user-circle"></i>
        </div>
        <div class="menu-icon" onclick="toggleTheme()" title="Tema DeÄŸiÅŸtir" id="themeToggle">
            <i class="fas fa-moon"></i>
        </div>
        <div class="menu-icon" onclick="openSettings()" title="Ayarlar">
            <i class="fas fa-cog"></i>
        </div>
        <div class="menu-icon" onclick="openIRC()" title="IRC KomutlarÄ±">
            <i class="fas fa-terminal"></i>
        </div>
        <div class="menu-icon" onclick="handleLogout()" title="Ã‡Ä±kÄ±ÅŸ Yap">
            <i class="fas fa-sign-out-alt"></i>
        </div>
        
        <!-- SOL BAR ALTINDAKÄ° PROFÄ°L RESMÄ° -->
        <div class="profile-bottom-avatar" id="bottomProfileAvatar" onclick="toggleProfilePanel()">
            <span id="bottomAvatarText">M</span>
        </div>
    </div>

    <!-- SOL PANEL - ONLINE LÄ°STESÄ° -->
    <div class="online-panel" id="onlinePanel">
        <div class="online-header">
            <h3><i class="fas fa-users"></i> Online Listeler</h3>
            <div class="online-tabs">
                <div class="online-tab active" onclick="switchTab('online')">Ã‡evrimiÃ§i</div>
                <div class="online-tab" onclick="switchTab('chatting')">Sohbette</div>
            </div>
        </div>
        
        <div class="nick-list" id="onlineList">
            <!-- Online kullanÄ±cÄ±lar buraya yÃ¼klenecek -->
        </div>
    </div>

    <!-- ORTA PANEL - GENEL SOHBET -->
    <div class="chat-panel">
        <div class="chat-messages" id="chatMessages">
            <div class="chat-messages-container" id="chatContainer">
                <!-- Mesajlar buraya yÃ¼klenecek -->
            </div>
        </div>
        
        <div class="message-input-area">
            <div class="message-input-wrapper">
                <input type="text" id="messageInput" class="message-input" placeholder="MesajÄ±nÄ±zÄ± yazÄ±n...">
                <button class="send-button" onclick="sendMessage()">
                    <i class="fas fa-paper-plane"></i>
                </button>
            </div>
        </div>
    </div>

    <!-- GÄ°RÄ°Åž PANELÄ° -->
    <div class="login-container" id="loginContainer">
        <div class="login-header">
            <div class="logo">
                <div class="logo-icon">
                    <i class="fas fa-comment-dots"></i>
                </div>
                <div class="logo-text">Popbox Elite</div>
            </div>
            <h2 class="login-title">Minimalist Chat Platform</h2>
            <p class="login-subtitle">Siyah & Beyaz â€¢ Åžeffaf â€¢ Premium</p>
        </div>

        <div class="login-form">
            <div id="errorMessage" class="error-message">
                <i class="fas fa-exclamation-circle"></i>
                <span id="errorText"></span>
            </div>

            <div class="input-group">
                <div class="input-label">
                    <i class="fas fa-user"></i>
                    KullanÄ±cÄ± AdÄ±
                </div>
                <input type="text" 
                       id="nickInput" 
                       class="login-input" 
                       placeholder="KullanÄ±cÄ± adÄ±nÄ±zÄ± girin"
                       autofocus>
            </div>

            <div class="input-group">
                <div class="input-label">
                    <i class="fas fa-lock"></i>
                    Åžifre
                </div>
                <input type="password" 
                       id="passInput" 
                       class="login-input" 
                       placeholder="Åžifrenizi girin (opsiyonel)">
            </div>

            <button class="login-btn" onclick="handleLogin()" id="loginBtn">
                <span id="btnText">GiriÅŸ Yap</span>
            </button>
        </div>

        <div class="login-footer">
            <div class="login-note">
                <p><strong>Demo KullanÄ±cÄ±lar:</strong></p>
                <p><strong>mateky</strong> / <strong>kumsal07@</strong></p>
                <p><strong>MATE</strong> / <strong>secure123</strong></p>
                <p style="margin-top: 10px; font-size: 12px; color: rgba(255,255,255,0.4);">
                    Not: KayÄ±tlÄ± olmayan nickler iÃ§in ÅŸifre gerekmez
                </p>
            </div>
        </div>
    </div>

    <script>
        // ==================== DEÄžÄ°ÅžKENLER ====================
        let currentUser = null;
        let isDayMode = false;
        let isSleepMode = false;
        let currentTab = 'online';
        let currentYouTubeTab = 'live';
        let onlineUsers = [];
        let chatMessages = [];
        let privateMessages = {};
        let messageInterval;
        let userUpdateInterval;
        let currentVideoIndex = 0;
        let isVideoMuted = false;
        let isVideoPlaying = true;
        let currentPrivateChatUser = null;
        let blockedUsers = [];
        let userNotifications = {};
        let aiUsers = [];
        let youtubeVideos = [
            {
                id: "jfKfPfyJRdk",
                title: "Popbox Radio â€¢ 24/7 CanlÄ± MÃ¼zik",
                type: "live",
                duration: "3:45"
            },
            {
                id: "7NOSDKb0HlU",
                title: "TRT FM â€¢ CanlÄ± YayÄ±n",
                type: "radio",
                duration: "2:30"
            },
            {
                id: "0vq4KtIcYp8",
                title: "Kral Pop â€¢ CanlÄ± Radyo",
                type: "radio",
                duration: "4:15"
            }
        ];

        // ==================== SAYFA YÃœKLENDÄ°ÄžÄ°NDE ====================
        document.addEventListener('DOMContentLoaded', function() {
            // ESC tuÅŸu iÃ§in
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape') {
                    handleEscapeKey();
                }
            });
            
            // Enter tuÅŸu iÃ§in
            document.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    const activeElement = document.activeElement;
                    if (activeElement.id === 'nickInput' || activeElement.id === 'passInput') {
                        handleLogin();
                    } else if (activeElement.id === 'messageInput') {
                        sendMessage();
                    } else if (activeElement.id === 'privateMessageInput') {
                        sendPrivateMessage();
                    }
                }
            });
            
            // Playlist'i yÃ¼kle
            loadPlaylist();
            
            // Demo AI kullanÄ±cÄ±larÄ± oluÅŸtur
            createDemoAIUsers();
        });

        // ==================== 1. YOUTUBE VIDEO KONTROLLERÄ° ====================
        function toggleVideoMute() {
            const iframe = document.getElementById('youtubeIframe');
            const muteText = document.getElementById('muteText');
            const muteBtn = document.getElementById('muteBtn');
            const muteIcon = muteBtn.querySelector('i');
            
            isVideoMuted = !isVideoMuted;
            
            if (isVideoMuted) {
                muteIcon.className = 'fas fa-volume-mute';
                muteText.textContent = 'Ses AÃ§';
                // YouTube iframe sesini kapat
                iframe.src = iframe.src.replace('mute=0', 'mute=1');
            } else {
                muteIcon.className = 'fas fa-volume-up';
                muteText.textContent = 'Ses Kapat';
                // YouTube iframe sesini aÃ§
                iframe.src = iframe.src.replace('mute=1', 'mute=0');
            }
            
            console.log('Video ses durumu:', isVideoMuted ? 'KapalÄ±' : 'AÃ§Ä±k');
        }

        function toggleVideoPlay() {
            const iframe = document.getElementById('youtubeIframe');
            const playIcon = document.getElementById('playIcon');
            const playText = document.getElementById('playText');
            
            isVideoPlaying = !isVideoPlaying;
            
            if (isVideoPlaying) {
                playIcon.className = 'fas fa-pause';
                playText.textContent = 'Duraklat';
                // YouTube iframe oynat
                iframe.src = iframe.src.replace('autoplay=0', 'autoplay=1');
            } else {
                playIcon.className = 'fas fa-play';
                playText.textContent = 'Oynat';
                // YouTube iframe duraklat
                iframe.src = iframe.src.replace('autoplay=1', 'autoplay=0');
            }
            
            console.log('Video oynatma durumu:', isVideoPlaying ? 'OynatÄ±lÄ±yor' : 'DuraklatÄ±ldÄ±');
        }

        function loadPlaylist() {
            const playlistContainer = document.getElementById('playlistContainer');
            let html = '';
            
            youtubeVideos.forEach((video, index) => {
                html += `
                    <div class="playlist-item ${index === currentVideoIndex ? 'active' : ''}" onclick="playVideo(${index})">
                        <div class="playlist-number">${index + 1}</div>
                        <div class="playlist-title">${video.title}</div>
                        <div class="playlist-duration">${video.duration}</div>
                    </div>
                `;
            });
            
            playlistContainer.innerHTML = html;
        }

        function playVideo(index) {
            const video = youtubeVideos[index];
            const iframe = document.getElementById('youtubeIframe');
            
            // YouTube iframe URL'sini gÃ¼ncelle
            let newSrc = `https://www.youtube.com/embed/${video.id}?`;
            newSrc += `autoplay=${isVideoPlaying ? 1 : 0}`;
            newSrc += `&mute=${isVideoMuted ? 1 : 0}`;
            newSrc += '&controls=1&modestbranding=1&rel=0';
            
            iframe.src = newSrc;
            document.getElementById('videoTitle').textContent = video.title;
            
            // Aktif playlist Ã¶ÄŸesini gÃ¼ncelle
            const playlistItems = document.querySelectorAll('.playlist-item');
            playlistItems.forEach(item => item.classList.remove('active'));
            playlistItems[index].classList.add('active');
            
            currentVideoIndex = index;
            console.log('Video deÄŸiÅŸtirildi:', video.title);
        }

        function switchYouTubeTab(tab) {
            currentYouTubeTab = tab;
            const tabs = document.querySelectorAll('.youtube-tab');
            const playlistContainer = document.getElementById('playlistContainer');
            
            tabs.forEach(t => t.classList.remove('active'));
            event.target.classList.add('active');
            
            if (tab === 'live') {
                playlistContainer.style.display = 'none';
                const liveVideos = youtubeVideos.filter(v => v.type === 'live' || v.type === 'radio');
                if (liveVideos.length > 0) {
                    const randomIndex = Math.floor(Math.random() * liveVideos.length);
                    playVideo(youtubeVideos.findIndex(v => v.id === liveVideos[randomIndex].id));
                }
            }
        }

        function togglePlaylist() {
            const playlistContainer = document.getElementById('playlistContainer');
            const tabs = document.querySelectorAll('.youtube-tab');
            
            if (playlistContainer.style.display === 'block') {
                playlistContainer.style.display = 'none';
                tabs[0].classList.add('active');
                tabs[1].classList.remove('active');
            } else {
                playlistContainer.style.display = 'block';
                tabs[0].classList.remove('active');
                tabs[1].classList.add('active');
            }
        }

        // ==================== 2. PLAYLIST YÃ–NETÄ°M SÄ°STEMÄ° ====================
        function openPlaylistManagePanel() {
            // Sadece admin ve owner yetkisi kontrolÃ¼
            if (currentUser && (currentUser.role === 'admin' || currentUser.role === 'owner')) {
                document.getElementById('playlistManagePanel').style.display = 'block';
            } else {
                alert('Bu Ã¶zellik sadece admin ve owner yetkilerine sahip kullanÄ±cÄ±lar iÃ§indir.');
            }
        }

        function closePlaylistManagePanel() {
            document.getElementById('playlistManagePanel').style.display = 'none';
            document.getElementById('videoIdInput').value = '';
            document.getElementById('videoTitleInput').value = '';
        }

        function addVideoToPlaylist() {
            const videoIdInput = document.getElementById('videoIdInput').value.trim();
            const videoTitle = document.getElementById('videoTitleInput').value.trim();
            const videoType = document.getElementById('videoTypeInput').value;
            
            if (!videoIdInput) {
                alert('LÃ¼tfen video ID veya URL girin!');
                return;
            }
            
            if (!videoTitle) {
                alert('LÃ¼tfen video baÅŸlÄ±ÄŸÄ± girin!');
                return;
            }
            
            let videoId = videoIdInput;
            
            // YouTube URL'den ID Ã§Ä±karma
            if (videoIdInput.includes('youtube.com/watch?v=')) {
                videoId = videoIdInput.split('v=')[1];
                const ampersandPosition = videoId.indexOf('&');
                if (ampersandPosition !== -1) {
                    videoId = videoId.substring(0, ampersandPosition);
                }
            } else if (videoIdInput.includes('youtu.be/')) {
                videoId = videoIdInput.split('youtu.be/')[1];
            }
            
            // Yeni video ekle
            youtubeVideos.push({
                id: videoId,
                title: videoTitle,
                type: videoType,
                duration: Math.floor(Math.random() * 4) + 2 + ":" + Math.floor(Math.random() * 60).toString().padStart(2, '0')
            });
            
            // Playlist'i yenile
            loadPlaylist();
            
            // Panel kapat
            closePlaylistManagePanel();
            
            alert('Video baÅŸarÄ±yla eklendi!');
        }

        // ==================== 3. SCROLLBAR TEMASI ====================
        // CSS'de zaten tanÄ±mlandÄ±, her ÅŸey Ã§alÄ±ÅŸÄ±yor

        // ==================== 4. ESC Ä°LE PANEL KAPATMA ====================
        function handleEscapeKey() {
            // Profil paneli aÃ§Ä±ksa kapat
            const profilePanel = document.getElementById('profilePanel');
            if (profilePanel.classList.contains('active')) {
                toggleProfilePanel();
                return;
            }
            
            // Ã–zel sohbet paneli aÃ§Ä±ksa kapat
            const privateChatPanel = document.getElementById('privateChatPanel');
            if (privateChatPanel.classList.contains('active')) {
                closePrivateChat();
                return;
            }
            
            // Playlist yÃ¶netim paneli aÃ§Ä±ksa kapat
            const playlistManagePanel = document.getElementById('playlistManagePanel');
            if (playlistManagePanel.style.display === 'block') {
                closePlaylistManagePanel();
                return;
            }
            
            // Playlist container aÃ§Ä±ksa kapat
            const playlistContainer = document.getElementById('playlistContainer');
            if (playlistContainer.style.display === 'block') {
                togglePlaylist();
                return;
            }
        }

        // ==================== 5. MESAJ SÄ°LME Ã–ZELLÄ°ÄžÄ° ====================
        function deleteMessage(messageIndex, isPrivate = false, targetUser = null) {
            if (isPrivate && targetUser) {
                // Ã–zel mesajÄ± sil
                if (privateMessages[targetUser] && privateMessages[targetUser][messageIndex]) {
                    const message = privateMessages[targetUser][messageIndex];
                    
                    // Sadece kendi mesajlarÄ±nÄ± silebilir
                    if (message.sender === currentUser.name) {
                        privateMessages[targetUser].splice(messageIndex, 1);
                        
                        // MesajlarÄ± yenile
                        if (currentPrivateChatUser && currentPrivateChatUser.name === targetUser) {
                            loadPrivateMessages(targetUser);
                        }
                        
                        showNotification('MesajÄ±nÄ±z silindi.');
                    } else {
                        alert('Sadece kendi mesajlarÄ±nÄ±zÄ± silebilirsiniz!');
                    }
                }
            } else {
                // Genel mesajÄ± sil
                if (chatMessages[messageIndex]) {
                    const message = chatMessages[messageIndex];
                    
                    // Admin/Owner her mesajÄ± silebilir, diÄŸerleri sadece kendi mesajlarÄ±nÄ±
                    if (currentUser.role === 'admin' || currentUser.role === 'owner' || 
                        message.user === currentUser.name) {
                        
                        chatMessages.splice(messageIndex, 1);
                        renderChatMessages();
                        showNotification('Mesaj silindi.');
                    } else {
                        alert('Sadece kendi mesajlarÄ±nÄ±zÄ± silebilirsiniz!');
                    }
                }
            }
        }

        function showNotification(message) {
            const notification = document.createElement('div');
            notification.style.position = 'fixed';
            notification.style.bottom = '20px';
            notification.style.right = '20px';
            notification.style.background = 'rgba(255, 255, 255, 0.15)';
            notification.style.backdropFilter = 'blur(10px)';
            notification.style.border = '1px solid rgba(255, 255, 255, 0.2)';
            notification.style.borderRadius = '10px';
            notification.style.padding = '12px 20px';
            notification.style.color = '#ffffff';
            notification.style.fontSize = '14px';
            notification.style.zIndex = '10000';
            notification.textContent = message;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.opacity = '0';
                notification.style.transform = 'translateY(20px)';
                setTimeout(() => {
                    document.body.removeChild(notification);
                }, 300);
            }, 3000);
        }

        // ==================== 6. META YAPAY ZEKA BOTU ====================
        function createDemoAIUsers() {
            // 20 AI kullanÄ±cÄ±sÄ± oluÅŸtur
            const aiNames = [
                "Alex", "Berk", "Cem", "Deniz", "Efe", "Fatih", "Gizem", "Hakan", 
                "Ä°rem", "Jale", "Kaan", "Leyla", "Mehmet", "NazlÄ±", "Onur"
            ];
            
            aiUsers = aiNames.map((name, index) => ({
                name: name,
                avatar: name.substring(0, 1),
                role: "ai",
                status: Math.random() > 0.3 ? 'online' : 'away',
                chatting: Math.random() > 0.5,
                lastActive: Date.now() - Math.floor(Math.random() * 3600000),
                isAI: true
            }));
            
            // META botunu ekle
            aiUsers.push({
                name: "META",
                avatar: "ðŸ¤–",
                role: "ai",
                status: 'online',
                chatting: true,
                lastActive: Date.now(),
                isAI: true
            });
        }

        // ==================== 7. GERÃ‡EK ZAMANLI SOHBET SÄ°STEMÄ° ====================
        function startChatSimulation() {
            if (messageInterval) clearInterval(messageInterval);
            
            messageInterval = setInterval(() => {
                // Rastgele AI kullanÄ±cÄ±larÄ± sohbete katÄ±lÄ±r
                if (Math.random() > 0.7) {
                    const activeAIUsers = aiUsers.filter(u => u.status === 'online' && u.name !== 'META');
                    if (activeAIUsers.length > 0) {
                        const randomAI = activeAIUsers[Math.floor(Math.random() * activeAIUsers.length)];
                        const aiMessages = [
                            "Merhaba! NasÄ±lsÄ±nÄ±z?",
                            "BugÃ¼n hava Ã§ok gÃ¼zel!",
                            "Yeni ÅŸarkÄ±lar dinliyorum, tavsiyeniz var mÄ±?",
                            "Sohbet harika gidiyor!",
                            "Teknoloji hakkÄ±nda ne dÃ¼ÅŸÃ¼nÃ¼yorsunuz?",
                            "MÃ¼zik dinlemeyi sever misiniz?",
                            "Bu platform Ã§ok gÃ¼zel olmuÅŸ!",
                            "Yapay zeka geleceÄŸi deÄŸiÅŸtirecek!",
                            "Size nasÄ±l yardÄ±mcÄ± olabilirim?",
                            "EÄŸlenceli bir sohbet oldu!"
                        ];
                        
                        const now = new Date();
                        const timeStr = now.getHours().toString().padStart(2, '0') + ':' + now.getMinutes().toString().padStart(2, '0');
                        
                        chatMessages.push({
                            user: randomAI.name,
                            avatar: randomAI.avatar,
                            message: aiMessages[Math.floor(Math.random() * aiMessages.length)],
                            time: timeStr,
                            side: "left",
                            isAI: true
                        });
                        
                        renderChatMessages();
                        
                        // KullanÄ±cÄ± durumunu gÃ¼ncelle
                        randomAI.chatting = true;
                        randomAI.lastActive = Date.now();
                        loadOnlineList();
                    }
                }
                
                // META botu Ã¶zel sohbet
                if (Math.random() > 0.8 && currentUser) {
                    simulateMetaBotActivity();
                }
                
                // Mesaj sayÄ±sÄ± sÄ±nÄ±rla
                if (chatMessages.length > 100) {
                    chatMessages.splice(0, chatMessages.length - 100);
                    renderChatMessages();
                }
            }, 8000);
        }

        function simulateMetaBotActivity() {
            // META botu rastgele Ã¶zel mesaj gÃ¶nderir
            if (!privateMessages["META"]) {
                privateMessages["META"] = [];
            }
            
            const metaMessages = [
                "Merhaba! Ben META, size nasÄ±l yardÄ±mcÄ± olabilirim?",
                "Yapay zeka olarak sÃ¼rekli Ã¶ÄŸreniyorum!",
                "BugÃ¼n yeni ÅŸeyler Ã¶ÄŸrendim, size anlatabilirim.",
                "Sohbet etmek ister misiniz?",
                "Size teknoloji hakkÄ±nda bilgi verebilirim."
            ];
            
            const now = new Date();
            const timeStr = now.getHours().toString().padStart(2, '0') + ':' + now.getMinutes().toString().padStart(2, '0');
            
            privateMessages["META"].push({
                sender: "META",
                avatar: "ðŸ¤–",
                message: metaMessages[Math.floor(Math.random() * metaMessages.length)],
                time: timeStr
            });
            
            // Bildirim ekle
            if (!userNotifications["META"]) {
                userNotifications["META"] = 0;
            }
            userNotifications["META"]++;
            
            loadOnlineList();
        }

        // ==================== 8. 100 AI KULLANICISI VE NICK DEÄžÄ°ÅžTÄ°RME ====================
        function startUserUpdateSystem() {
            if (userUpdateInterval) clearInterval(userUpdateInterval);
            
            userUpdateInterval = setInterval(() => {
                // AI kullanÄ±cÄ± durumlarÄ±nÄ± gÃ¼ncelle
                aiUsers.forEach(user => {
                    if (Math.random() > 0.95) {
                        user.status = user.status === 'online' ? 'away' : 'online';
                    }
                    if (Math.random() > 0.8) {
                        user.chatting = !user.chatting;
                    }
                    user.lastActive = Date.now() - Math.floor(Math.random() * 600000);
                });
                
                // Rastgele nick deÄŸiÅŸtirme (sadece AI kullanÄ±cÄ±lar)
                if (Math.random() > 0.98) {
                    const randomAI = aiUsers[Math.floor(Math.random() * (aiUsers.length - 1))]; // META hariÃ§
                    const newNames = ["Alex", "Berk", "Cem", "Deniz", "Efe", "Fatih", "Gizem", "Hakan"];
                    const newName = newNames[Math.floor(Math.random() * newNames.length)];
                    
                    // Eski nick'i kaydet
                    const oldName = randomAI.name;
                    
                    // Yeni nick atama
                    randomAI.name = newName;
                    randomAI.avatar = newName.substring(0, 1);
                    
                    // Sohbette duyuru
                    const now = new Date();
                    const timeStr = now.getHours().toString().padStart(2, '0') + ':' + now.getMinutes().toString().padStart(2, '0');
                    
                    chatMessages.push({
                        user: "Sistem",
                        avatar: "âš™ï¸",
                        message: `${oldName} isim deÄŸiÅŸtirdi: ${newName}`,
                        time: timeStr,
                        side: "left"
                    });
                    
                    renderChatMessages();
                }
                
                // Online listeyi gÃ¼ncelle
                loadOnlineList();
            }, 5000);
        }

        // ==================== DÄ°ÄžER FONKSÄ°YONLAR ====================
        function initializeChat() {
            chatMessages = [
                { user: "mateky", avatar: "M", message: "HoÅŸ geldiniz! Sohbet aktif.", time: "14:00", side: "left" },
                { user: "META", avatar: "ðŸ¤–", message: "Merhaba! Ben META, yapay zeka asistanÄ±nÄ±z. ðŸ¤–", time: "13:58", side: "left", isAI: true },
                { user: "Alex", avatar: "A", message: "Harika bir platform!", time: "13:55", side: "left", isAI: true },
                { user: currentUser.name, avatar: currentUser.avatar, message: "Merhaba herkese!", time: "Åžimdi", side: "right" }
            ];
            
            renderChatMessages();
            startChatSimulation();
        }

        function renderChatMessages() {
            const chatContainer = document.getElementById('chatContainer');
            chatContainer.innerHTML = '';
            
            chatMessages.forEach((msg, index) => {
                const messageDiv = document.createElement('div');
                messageDiv.className = `chat-message ${msg.side} ${msg.isAI ? 'ai-message' : ''}`;
                
                messageDiv.innerHTML = `
                    <div class="message-user">
                        <div class="message-user-avatar">
                            ${msg.avatar}
                        </div>
                        <div class="message-user-name">${msg.user}</div>
                    </div>
                    <div class="message-content">${msg.message}</div>
                    <div class="message-time">${msg.time}</div>
                    ${(currentUser && (currentUser.role === 'admin' || currentUser.role === 'owner' || msg.user === currentUser.name)) ? 
                        `<div class="message-delete-btn" onclick="deleteMessage(${index}, false, null)">
                            <i class="fas fa-trash"></i>
                        </div>` : ''}
                `;
                chatContainer.appendChild(messageDiv);
            });
            
            setTimeout(() => {
                chatContainer.scrollTop = chatContainer.scrollHeight;
            }, 100);
        }

        function loadOnlineList() {
            const onlineList = document.getElementById('onlineList');
            const allUsers = [...onlineUsers, ...aiUsers];
            let filteredUsers = [];
            
            if (currentTab === 'online') {
                filteredUsers = allUsers.filter(user => user.status === 'online');
            } else {
                filteredUsers = allUsers.filter(user => user.chatting);
            }
            
            // Benzersiz kullanÄ±cÄ±lar
            const uniqueUsers = [];
            const seenNames = new Set();
            filteredUsers.forEach(user => {
                if (!seenNames.has(user.name)) {
                    seenNames.add(user.name);
                    uniqueUsers.push(user);
                }
            });
            
            let html = '';
            uniqueUsers.forEach(user => {
                const timeAgo = getTimeAgo(user.lastActive);
                const statusText = user.chatting ? "Sohbette" : timeAgo;
                const hasNotification = userNotifications[user.name] > 0;
                const isAI = user.isAI;
                
                html += `
                    <div class="nick-item ${hasNotification ? 'has-notification' : ''} ${isAI ? 'ai-user' : ''}" 
                         onclick="openPrivateChat('${user.name}')">
                        <div class="nick-avatar">
                            ${user.avatar}
                            ${hasNotification ? '<div class="notification-dot"></div>' : ''}
                        </div>
                        <div class="nick-info">
                            <div class="nick-name">${user.name} 
                                ${user.role === 'owner' ? 'ðŸ‘‘' : user.role === 'admin' ? 'â­' : ''}
                            </div>
                            <div class="nick-status">${statusText}</div>
                        </div>
                        <div class="online-dot" style="background: ${user.chatting ? '#34c759' : 'rgba(255,255,255,0.5)'}"></div>
                    </div>
                `;
            });
            
            onlineList.innerHTML = html;
            
            const onlineTab = document.querySelector('.online-tab:nth-child(1)');
            const chatTab = document.querySelector('.online-tab:nth-child(2)');
            
            onlineTab.textContent = `Ã‡evrimiÃ§i (${uniqueUsers.length})`;
            chatTab.textContent = `Sohbette (${uniqueUsers.filter(u => u.chatting).length})`;
        }

        function getTimeAgo(timestamp) {
            const diff = Date.now() - timestamp;
            const minutes = Math.floor(diff / 60000);
            
            if (minutes < 1) return "Åžimdi";
            if (minutes < 60) return `${minutes} dk Ã¶nce`;
            
            const hours = Math.floor(minutes / 60);
            if (hours < 24) return `${hours} sa Ã¶nce`;
            
            const days = Math.floor(hours / 24);
            return `${days} gÃ¼n Ã¶nce`;
        }

        function sendMessage() {
            const input = document.getElementById('messageInput');
            const text = input.value.trim();
            
            if (!text) return;
            
            const now = new Date();
            const timeStr = now.getHours().toString().padStart(2, '0') + ':' + now.getMinutes().toString().padStart(2, '0');
            
            chatMessages.push({
                user: currentUser.name,
                avatar: currentUser.avatar,
                message: text,
                time: timeStr,
                side: "right"
            });
            
            renderChatMessages();
            input.value = '';
        }

        // ==================== GÄ°RÄ°Åž SÄ°STEMÄ° ====================
        function handleLogin() {
            const nickInput = document.getElementById('nickInput');
            const passInput = document.getElementById('passInput');
            
            let nick = nickInput.value.trim();
            const pass = passInput.value;
            
            if (!nick) {
                showError('KullanÄ±cÄ± adÄ± gerekli!');
                return;
            }
            
            const loginBtn = document.getElementById('loginBtn');
            loginBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i>';
            loginBtn.style.cursor = 'not-allowed';
            
            setTimeout(() => {
                performLogin(nick, pass);
            }, 800);
        }

        function performLogin(nick, pass) {
            const registeredUsers = [
                { name: "mateky", password: "kumsal07@", role: "owner", avatar: "M", registered: true },
                { name: "MATE", password: "secure123", role: "admin", avatar: "S", registered: true }
            ];
            
            let user = registeredUsers.find(u => u.name.toLowerCase() === nick.toLowerCase());
            
            if (user) {
                if (pass !== user.password) {
                    showError('KayÄ±tlÄ± kullanÄ±cÄ±lar iÃ§in ÅŸifre gereklidir!');
                    resetLoginButton();
                    return;
                }
            } else {
                user = {
                    name: nick.substring(0, 1).toUpperCase() + nick.substring(1).toLowerCase(),
                    role: "user",
                    avatar: nick.substring(0, 1).toUpperCase(),
                    registered: false
                };
            }
            
            currentUser = user;
            
            const loginBtn = document.getElementById('loginBtn');
            loginBtn.classList.add('success');
            loginBtn.innerHTML = '<i class="fas fa-check"></i> GiriÅŸ BaÅŸarÄ±lÄ±!';
            
            setTimeout(() => {
                const loginContainer = document.getElementById('loginContainer');
                loginContainer.classList.add('login-success');
                document.getElementById('blurLayer').style.opacity = '0';
                
                setTimeout(() => {
                    initializeApp();
                }, 600);
            }, 1200);
        }

        function initializeApp() {
            onlineUsers = [
                { name: "mateky", avatar: "M", role: "owner", status: "online", chatting: true, lastActive: Date.now() },
                { name: "MATE", avatar: "S", role: "admin", status: "online", chatting: true, lastActive: Date.now() },
                { name: "Ahmet", avatar: "A", role: "user", status: "online", chatting: false, lastActive: Date.now() - 300000 }
            ];
            
            loadOnlineList();
            initializeChat();
            startUserUpdateSystem();
        }

        function showError(message) {
            const errorDiv = document.getElementById('errorMessage');
            const errorText = document.getElementById('errorText');
            
            errorText.textContent = message;
            errorDiv.style.display = 'flex';
            
            setTimeout(() => {
                errorDiv.style.display = 'none';
            }, 5000);
        }

        function resetLoginButton() {
            document.getElementById('loginBtn').innerHTML = '<span id="btnText">GiriÅŸ Yap</span>';
            document.getElementById('loginBtn').style.cursor = 'pointer';
        }

        // ==================== DÄ°ÄžER FONKSÄ°YONLAR ====================
        window.togglePanel = function(panel) {
            const onlinePanel = document.getElementById('onlinePanel');
            onlinePanel.style.display = onlinePanel.style.display === 'flex' ? 'none' : 'flex';
        };

        window.switchTab = function(tab) {
            currentTab = tab;
            const tabs = document.querySelectorAll('.online-tab');
            tabs.forEach(t => t.classList.remove('active'));
            event.target.classList.add('active');
            loadOnlineList();
        };

        window.toggleTheme = function() {
            const body = document.body;
            const themeBtn = document.getElementById('themeToggle').querySelector('i');
            
            if (isDayMode) {
                body.classList.remove('day-mode');
                themeBtn.className = 'fas fa-moon';
                isDayMode = false;
            } else {
                body.classList.add('day-mode');
                themeBtn.className = 'fas fa-sun';
                isDayMode = true;
            }
        };

        window.toggleProfilePanel = function() {
            const profilePanel = document.getElementById('profilePanel');
            
            if (profilePanel.classList.contains('active')) {
                profilePanel.classList.remove('active');
                setTimeout(() => {
                    profilePanel.style.display = 'none';
                }, 300);
            } else {
                profilePanel.style.display = 'flex';
                setTimeout(() => {
                    profilePanel.classList.add('active');
                }, 10);
            }
        };

        window.openPrivateChat = function(userName) {
            if (!userName || userName === currentUser.name) return;
            
            currentPrivateChatUser = { name: userName };
            
            const privateChatPanel = document.getElementById('privateChatPanel');
            privateChatPanel.classList.add('active');
            
            document.getElementById('privateChatUserName').textContent = userName;
            
            // MesajlarÄ± yÃ¼kle
            if (!privateMessages[userName]) {
                privateMessages[userName] = [];
            }
            
            loadPrivateMessages(userName);
        };

        function loadPrivateMessages(userName) {
            const privateChatMessages = document.getElementById('privateChatMessages');
            
            let html = '';
            privateMessages[userName].forEach((msg, index) => {
                const isCurrentUser = msg.sender === currentUser.name;
                
                html += `
                    <div class="private-message ${isCurrentUser ? 'right' : 'left'}" data-index="${index}">
                        <div class="message-user">
                            <div class="message-user-avatar">
                                ${msg.avatar}
                            </div>
                            <div class="message-user-name">${msg.sender}</div>
                        </div>
                        <div class="message-content">${msg.message}</div>
                        <div class="message-time">${msg.time}</div>
                        ${isCurrentUser ? 
                            `<div class="message-delete-btn" onclick="deleteMessage(${index}, true, '${userName}')">
                                <i class="fas fa-trash"></i>
                            </div>` : ''}
                    </div>
                `;
            });
            
            privateChatMessages.innerHTML = html;
            
            setTimeout(() => {
                privateChatMessages.scrollTop = privateChatMessages.scrollHeight;
            }, 100);
        }

        window.sendPrivateMessage = function() {
            if (!currentPrivateChatUser) return;
            
            const input = document.getElementById('privateMessageInput');
            const text = input.value.trim();
            
            if (!text) return;
            
            const now = new Date();
            const timeStr = now.getHours().toString().padStart(2, '0') + ':' + now.getMinutes().toString().padStart(2, '0');
            
            if (!privateMessages[currentPrivateChatUser.name]) {
                privateMessages[currentPrivateChatUser.name] = [];
            }
            
            privateMessages[currentPrivateChatUser.name].push({
                sender: currentUser.name,
                avatar: currentUser.avatar,
                message: text,
                time: timeStr
            });
            
            loadPrivateMessages(currentPrivateChatUser.name);
            input.value = '';
        };

        window.closePrivateChat = function() {
            const privateChatPanel = document.getElementById('privateChatPanel');
            privateChatPanel.classList.remove('active');
            currentPrivateChatUser = null;
            document.getElementById('privateMessageInput').value = '';
        };

        window.handleLogin = handleLogin;
        window.sendMessage = sendMessage;
        window.handleLogout = function() {
            if (confirm('Ã‡Ä±kÄ±ÅŸ yapmak istediÄŸinize emin misiniz?')) {
                clearInterval(messageInterval);
                clearInterval(userUpdateInterval);
                location.reload();
            }
        };

        // DiÄŸer fonksiyonlar
        window.openSettings = function() {
            alert('Ayarlar paneli');
        };

        window.openIRC = function() {
            alert('IRC komutlarÄ±');
        };
    </script>
</body>
</html>
