<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Popbox YouTube Chat</title>
    <style>
        * { margin:0; padding:0; box-sizing:border-box; }
        body { 
            font-family:Arial; 
            background:#1a1a2e; 
            color:white; 
            padding:20px; 
        }
        
        .container {
            display:flex;
            gap:20px;
            max-width:1200px;
            margin:0 auto;
        }
        
        .youtube-box {
            flex:3;
            background:#000;
            border-radius:15px;
            overflow:hidden;
            min-height:400px;
        }
        
        .chat-box {
            flex:1;
            background:#2d2d44;
            border-radius:15px;
            padding:20px;
            min-width:350px;
        }
        
        .chat-header {
            background:#3d3d5c;
            padding:15px;
            border-radius:10px;
            text-align:center;
            margin-bottom:15px;
            border:2px solid #4fc3f7;
        }
        
        .messages {
            height:300px;
            overflow-y:auto;
            background:#1e1e2e;
            padding:15px;
            border-radius:10px;
            margin-bottom:15px;
        }
        
        .message {
            background:#3d3d5c;
            padding:10px;
            margin:8px 0;
            border-radius:8px;
            border-left:3px solid #4fc3f7;
        }
        
        .admin-message { border-left-color:#ff5555; }
        .system-message { border-left-color:#4caf50; }
        
        .input-area {
            display:flex;
            gap:10px;
        }
        
        input {
            flex:1;
            padding:12px;
            border-radius:8px;
            border:none;
            background:#1e1e2e;
            color:white;
        }
        
        button {
            padding:12px 20px;
            background:#4fc3f7;
            color:white;
            border:none;
            border-radius:8px;
            cursor:pointer;
            font-weight:bold;
        }
        
        .admin-btn {
            background:#ff5555;
            width:100%;
            margin-top:10px;
        }
        
        @media (max-width:768px) {
            .container { flex-direction:column; }
            .chat-box { min-width:auto; }
        }
    </style>
    <script src="https://www.youtube.com/iframe_api"></script>
</head>
<body>
    <h1 style="text-align:center; color:#4fc3f7; margin-bottom:20px;">
        ğŸ¥ Popbox YouTube Live Chat
    </h1>
    
    <div class="container">
        <!-- YouTube -->
        <div class="youtube-box">
            <div id="youtube-player"></div>
        </div>
        
        <!-- Sohbet -->
        <div class="chat-box">
            <div class="chat-header">
                <h2>ğŸ’¬ Popbox Chat</h2>
                <p>KullanÄ±cÄ±lar: <span id="userCount">1</span> | Admin: popbox</p>
            </div>
            
            <div class="messages" id="messages">
                <div class="message system-message">
                    <strong>ğŸ¤– Sistem:</strong> Popbox Chat'e hoÅŸ geldiniz!
                </div>
                <div class="message system-message">
                    ğŸ” Admin giriÅŸi iÃ§in "ADMIN GÄ°RÄ°Å" butonuna tÄ±klayÄ±n
                </div>
            </div>
            
            <div class="input-area">
                <input type="text" id="messageInput" placeholder="MesajÄ±nÄ±z...">
                <button onclick="sendMessage()">GÃ¶nder</button>
            </div>
            
            <button class="admin-btn" onclick="adminLogin()">
                ğŸ‘‘ ADMIN GÄ°RÄ°Å (popbox)
            </button>
            
            <div style="margin-top:15px; text-align:center; color:#888; font-size:12px;">
                ğŸ“± TÃ¼m cihazlara uyumlu | ğŸ”’ Åifre: kumsal07@
            </div>
        </div>
    </div>
    
    <!-- Admin Panel (Popup) -->
    <div id="adminPanel" style="display:none; position:fixed; top:50%; left:50%; transform:translate(-50%,-50%); background:#2d2d44; padding:30px; border-radius:15px; border:3px solid #ff5555; z-index:1000; min-width:300px;">
        <h2 style="color:#ff5555; margin-bottom:20px;">ğŸ‘‘ ADMIN PANELÄ°</h2>
        
        <div style="margin:15px 0;">
            <label style="display:block; margin-bottom:5px;">KullanÄ±cÄ±:</label>
            <input type="text" id="adminUser" value="popbox" style="width:100%; padding:10px; background:#1e1e2e; color:white; border:none; border-radius:5px;">
        </div>
        
        <div style="margin:15px 0;">
            <label style="display:block; margin-bottom:5px;">Åifre:</label>
            <input type="password" id="adminPass" value="kumsal07@" style="width:100%; padding:10px; background:#1e1e2e; color:white; border:none; border-radius:5px;">
        </div>
        
        <div style="display:flex; gap:10px; margin-top:20px;">
            <button onclick="loginAsAdmin()" style="flex:1; background:#4caf50;">GiriÅŸ Yap</button>
            <button onclick="closeAdminPanel()" style="flex:1; background:#666;">Ä°ptal</button>
        </div>
    </div>
    
    <div id="overlay" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.7); z-index:999;"></div>
    
    <script>
        // ========== BASÄ°T SOHBET SÄ°STEMÄ° ==========
        let messages = [];
        let isAdmin = false;
        let currentUser = '';
        
        // YouTube Player
        let player;
        function onYouTubeIframeAPIReady() {
            player = new YT.Player('youtube-player', {
                height: '100%',
                width: '100%',
                videoId: 'dQw4w9WgXcQ', // KENDÄ° VÄ°DEO ID'NÄ° YAZ
                playerVars: {
                    'autoplay': 0,
                    'controls': 1,
                    'rel': 0
                }
            });
        }
        
        // Sayfa yÃ¼klendiÄŸinde
        window.onload = function() {
            // KullanÄ±cÄ± adÄ± iste
            currentUser = prompt('KullanÄ±cÄ± adÄ±nÄ±z:', 'KullanÄ±cÄ±_' + Math.floor(Math.random() * 1000));
            if (!currentUser) currentUser = 'Anon';
            
            addMessage('Sistem', `ğŸ‘‹ HoÅŸ geldin, ${currentUser}!`, 'system');
            addMessage('Sistem', 'ğŸ’¬ Sohbete mesaj yazmaya baÅŸlayabilirsiniz.', 'system');
        };
        
        // Mesaj GÃ¶nderme
        function sendMessage() {
            const input = document.getElementById('messageInput');
            const message = input.value.trim();
            
            if (!message) return;
            
            // Komut kontrolÃ¼
            if (message.startsWith('/')) {
                handleCommand(message);
            } else {
                // Normal mesaj
                addMessage(currentUser, message, isAdmin ? 'admin' : 'user');
                
                // Otomatik cevap (demo iÃ§in)
                if (message.toLowerCase().includes('merhaba')) {
                    setTimeout(() => {
                        addMessage('Bot', 'Merhaba! NasÄ±lsÄ±nÄ±z?', 'system');
                    }, 500);
                }
            }
            
            input.value = '';
            input.focus();
        }
        
        // Komut Ä°ÅŸleme
        function handleCommand(cmd) {
            if (cmd === '/admin') {
                adminLogin();
            } else if (cmd === '/clear' && isAdmin) {
                document.getElementById('messages').innerHTML = '';
                addMessage('Sistem', 'ğŸ§¹ Chat temizlendi.', 'system');
            } else if (cmd === '/help') {
                addMessage('Sistem', 'ğŸ“‹ Komutlar: /admin, /help, /clear (admin)', 'system');
            } else if (cmd === '/users') {
                addMessage('Sistem', `ğŸ‘¥ Ã‡evrimiÃ§i: 1 kullanÄ±cÄ± (${currentUser})`, 'system');
            } else {
                addMessage('Sistem', `âŒ Bilinmeyen komut: ${cmd}`, 'system');
            }
        }
        
        // Admin GiriÅŸi
        function adminLogin() {
            document.getElementById('adminPanel').style.display = 'block';
            document.getElementById('overlay').style.display = 'block';
        }
        
        function loginAsAdmin() {
            const user = document.getElementById('adminUser').value;
            const pass = document.getElementById('adminPass').value;
            
            if (user === 'popbox' && pass === 'kumsal07@') {
                isAdmin = true;
                addMessage('Sistem', 'âœ… Admin yetkileri aktif edildi!', 'system');
                addMessage('Sistem', 'ğŸ‘‘ ArtÄ±k yÃ¶netici komutlarÄ±nÄ± kullanabilirsiniz.', 'system');
                closeAdminPanel();
            } else {
                alert('âŒ HatalÄ± kullanÄ±cÄ± adÄ± veya ÅŸifre!');
            }
        }
        
        function closeAdminPanel() {
            document.getElementById('adminPanel').style.display = 'none';
            document.getElementById('overlay').style.display = 'none';
        }
        
        // Mesaj Ekleme
        function addMessage(user, text, type = 'user') {
            const messagesDiv = document.getElementById('messages');
            const messageDiv = document.createElement('div');
            
            messageDiv.className = 'message ' + 
                (type === 'admin' ? 'admin-message' : 
                 type === 'system' ? 'system-message' : '');
            
            const time = new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
            const badge = type === 'admin' ? 'ğŸ‘‘ ' : type === 'system' ? 'ğŸ¤– ' : '';
            
            messageDiv.innerHTML = `
                <div style="display:flex; justify-content:space-between;">
                    <strong>${badge}${user}</strong>
                    <span style="color:#888; font-size:12px;">${time}</span>
                </div>
                <div>${text}</div>
            `;
            
            messagesDiv.appendChild(messageDiv);
            messagesDiv.scrollTop = messagesDiv.scrollHeight;
            
            // Mesaj sayÄ±sÄ±nÄ± gÃ¼ncelle
            document.getElementById('userCount').textContent = 
                Math.floor(Math.random() * 5) + 1; // Demo iÃ§in rastgele sayÄ±
        }
        
        // Enter tuÅŸu ile mesaj gÃ¶nder
        document.getElementById('messageInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') sendMessage();
        });
        
        // Overlay'e tÄ±klayÄ±nca kapat
        document.getElementById('overlay').addEventListener('click', closeAdminPanel);
        
        // Demo mesajlarÄ± (otomatik)
        setTimeout(() => {
            addMessage('Bot', 'Popbox YouTube Live Chat aktif!', 'system');
        }, 2000);
        
        setTimeout(() => {
            addMessage('ZiyaretÃ§i', 'Harika bir sistem!', 'user');
        }, 4000);
    </script>
</body>
</html>
